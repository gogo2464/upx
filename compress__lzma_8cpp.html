<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: src/compress/compress_lzma.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('compress__lzma_8cpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">compress_lzma.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="conf_8h_source.html">../conf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compress_8h_source.html">compress.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="membuffer_8h_source.html">../util/membuffer.h</a>&quot;</code><br />
<code>#include &lt;lzma-sdk/C/Common/MyInitGuid.h&gt;</code><br />
<code>#include &lt;lzma-sdk/C/7zip/Compress/LZMA/LZMAEncoder.h&gt;</code><br />
<code>#include &lt;lzma-sdk/C/Common/Alloc.cpp&gt;</code><br />
<code>#include &lt;lzma-sdk/C/Common/CRC.cpp&gt;</code><br />
<code>#include &lt;lzma-sdk/C/7zip/Common/OutBuffer.cpp&gt;</code><br />
<code>#include &lt;lzma-sdk/C/7zip/Common/StreamUtils.cpp&gt;</code><br />
<code>#include &lt;lzma-sdk/C/7zip/Compress/LZ/LZInWindow.cpp&gt;</code><br />
<code>#include &lt;lzma-sdk/C/7zip/Compress/LZMA/LZMAEncoder.cpp&gt;</code><br />
<code>#include &lt;lzma-sdk/C/7zip/Compress/RangeCoder/RangeCoderBit.cpp&gt;</code><br />
<code>#include &lt;lzma-sdk/C/7zip/Compress/LZMA_C/LzmaDecode.h&gt;</code><br />
<code>#include &lt;lzma-sdk/C/7zip/Compress/LZMA_C/LzmaDecode.c&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for compress_lzma.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="compress__lzma_8cpp__incl.png" border="0" usemap="#asrc_2compress_2compress__lzma_8cpp" alt=""/></div>
<map name="asrc_2compress_2compress__lzma_8cpp" id="asrc_2compress_2compress__lzma_8cpp">
<area shape="rect" title=" " alt="" coords="3823,5,3998,45"/>
<area shape="rect" href="conf_8h.html" title=" " alt="" coords="2284,101,2358,126"/>
<area shape="rect" href="compress_8h.html" title=" " alt="" coords="2710,101,2807,126"/>
<area shape="rect" href="membuffer_8h.html" title=" " alt="" coords="2831,101,2974,126"/>
<area shape="rect" title=" " alt="" coords="2998,93,3201,133"/>
<area shape="rect" title=" " alt="" coords="3225,93,3420,133"/>
<area shape="rect" title=" " alt="" coords="3444,101,3665,126"/>
<area shape="rect" title=" " alt="" coords="3689,101,3905,126"/>
<area shape="rect" title=" " alt="" coords="3929,93,4118,133"/>
<area shape="rect" title=" " alt="" coords="4142,93,4332,133"/>
<area shape="rect" title=" " alt="" coords="4356,93,4550,133"/>
<area shape="rect" title=" " alt="" coords="4574,93,4769,133"/>
<area shape="rect" title=" " alt="" coords="4794,93,5027,133"/>
<area shape="rect" title=" " alt="" coords="5052,93,5246,133"/>
<area shape="rect" title=" " alt="" coords="5270,93,5465,133"/>
<area shape="rect" href="system__headers_8h.html" title=" " alt="" coords="590,181,756,207"/>
<area shape="rect" href="system__check__predefs_8h.html" title=" " alt="" coords="647,416,830,441"/>
<area shape="rect" href="system__undefs_8h.html" title=" " alt="" coords="1419,181,1578,207"/>
<area shape="rect" href="version_8h.html" title=" " alt="" coords="1602,181,1685,207"/>
<area shape="rect" href="cxxlib_8h.html" title=" " alt="" coords="1709,181,1808,207"/>
<area shape="rect" title=" " alt="" coords="1832,181,2010,207"/>
<area shape="rect" title=" " alt="" coords="2034,181,2184,207"/>
<area shape="rect" href="snprintf_8h.html" title=" " alt="" coords="2208,181,2316,207"/>
<area shape="rect" href="util_8h.html" title=" " alt="" coords="2341,181,2421,207"/>
<area shape="rect" href="options_8h.html" title=" " alt="" coords="2445,181,2528,207"/>
<area shape="rect" href="except_8h.html" title=" " alt="" coords="2552,181,2631,207"/>
<area shape="rect" href="bele_8h.html" title=" " alt="" coords="2655,181,2718,207"/>
<area shape="rect" href="console_8h.html" title=" " alt="" coords="2742,181,2881,207"/>
<area shape="rect" href="raw__bytes_8h.html" title=" " alt="" coords="2906,181,3032,207"/>
<area shape="rect" href="xspan_8h.html" title=" " alt="" coords="3057,181,3156,207"/>
<area shape="rect" href="system__defs_8h.html" title=" " alt="" coords="38,343,156,368"/>
<area shape="rect" href="system__features_8h.html" title=" " alt="" coords="26,262,168,287"/>
<area shape="rect" href="miniacc_8h.html" title=" " alt="" coords="193,262,278,287"/>
<area shape="rect" title=" " alt="" coords="303,262,374,287"/>
<area shape="rect" title=" " alt="" coords="398,262,465,287"/>
<area shape="rect" title=" " alt="" coords="490,262,576,287"/>
<area shape="rect" title=" " alt="" coords="600,262,650,287"/>
<area shape="rect" title=" " alt="" coords="674,262,766,287"/>
<area shape="rect" title=" " alt="" coords="790,262,850,287"/>
<area shape="rect" title=" " alt="" coords="874,262,960,287"/>
<area shape="rect" title=" " alt="" coords="984,262,1061,287"/>
<area shape="rect" title=" " alt="" coords="1086,255,1244,295"/>
<area shape="rect" title=" " alt="" coords="1269,262,1344,287"/>
<area shape="rect" title=" " alt="" coords="200,343,271,368"/>
<area shape="rect" href="bele__policy_8h.html" title=" " alt="" coords="2633,262,2740,287"/>
<area shape="rect" href="xspan__impl_8h.html" title=" " alt="" coords="3052,262,3161,287"/>
<area shape="rect" href="xspan__fwd_8h.html" title=" " alt="" coords="3180,181,3283,207"/>
</map>
</div>
</div>
<p><a href="compress__lzma_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMyLzma_1_1InStream.html">MyLzma::InStream</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMyLzma_1_1OutStream.html">MyLzma::OutStream</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMyLzma_1_1ProgressInfo.html">MyLzma::ProgressInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespaceMyLzma"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMyLzma.html">MyLzma</a></td></tr>
<tr class="memdesc:namespaceMyLzma"><td class="mdescLeft">&#160;</td><td class="mdescRight">compress - cruft because of pseudo-COM layer <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afb61bae04ad14e880bc46e7e292a46b1"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compress__lzma_8cpp.html#afb61bae04ad14e880bc46e7e292a46b1">prepare_result</a> (<a class="el" href="structlzma__compress__result__t.html">lzma_compress_result_t</a> *res, unsigned src_len, int method, int level, const <a class="el" href="structlzma__compress__config__t.html">lzma_compress_config_t</a> *lcconf)</td></tr>
<tr class="memdesc:afb61bae04ad14e880bc46e7e292a46b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">compress defaults  <br /></td></tr>
<tr class="separator:afb61bae04ad14e880bc46e7e292a46b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16968f66ecd1f6e7a199462fc20b5b9c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compress__lzma_8cpp.html#a16968f66ecd1f6e7a199462fc20b5b9c">upx_lzma_compress</a> (const <a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a> src, unsigned src_len, <a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a> dst, unsigned *dst_len, <a class="el" href="structupx__callback__t.html">upx_callback_t</a> *cb, int method, int level, const <a class="el" href="structupx__compress__config__t.html">upx_compress_config_t</a> *cconf_parm, <a class="el" href="structupx__compress__result__t.html">upx_compress_result_t</a> *cresult)</td></tr>
<tr class="separator:a16968f66ecd1f6e7a199462fc20b5b9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad12afac747a98291be2b479b198ac11f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compress__lzma_8cpp.html#ad12afac747a98291be2b479b198ac11f">upx_lzma_decompress</a> (const <a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a> src, unsigned src_len, <a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a> dst, unsigned *dst_len, int method, const <a class="el" href="structupx__compress__result__t.html">upx_compress_result_t</a> *cresult)</td></tr>
<tr class="memdesc:ad12afac747a98291be2b479b198ac11f"><td class="mdescLeft">&#160;</td><td class="mdescRight">decompress  <br /></td></tr>
<tr class="separator:ad12afac747a98291be2b479b198ac11f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a0885ac5b6affea5d4501ee829bc0b6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compress__lzma_8cpp.html#a3a0885ac5b6affea5d4501ee829bc0b6">upx_lzma_test_overlap</a> (const <a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a> <a class="el" href="p__unix_8cpp.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, const <a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a> tbuf, unsigned src_off, unsigned src_len, unsigned *dst_len, int method, const <a class="el" href="structupx__compress__result__t.html">upx_compress_result_t</a> *cresult)</td></tr>
<tr class="memdesc:a3a0885ac5b6affea5d4501ee829bc0b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">test_overlap - see &lt;ucl/ucl.h&gt; for semantics  <br /></td></tr>
<tr class="separator:a3a0885ac5b6affea5d4501ee829bc0b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9baf6c8471baa28fa1671482133d59b8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compress__lzma_8cpp.html#a9baf6c8471baa28fa1671482133d59b8">upx_lzma_init</a> (void)</td></tr>
<tr class="memdesc:a9baf6c8471baa28fa1671482133d59b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">misc  <br /></td></tr>
<tr class="separator:a9baf6c8471baa28fa1671482133d59b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bcf51275e629f5b1aa2aee2f6367f23"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compress__lzma_8cpp.html#a7bcf51275e629f5b1aa2aee2f6367f23">upx_lzma_version_string</a> (void)</td></tr>
<tr class="separator:a7bcf51275e629f5b1aa2aee2f6367f23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae11b24a715b64b66400f470c9e1eca19"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compress__lzma_8cpp.html#ae11b24a715b64b66400f470c9e1eca19">TEST_CASE</a> (&quot;upx_lzma_decompress&quot;)</td></tr>
<tr class="memdesc:ae11b24a715b64b66400f470c9e1eca19"><td class="mdescLeft">&#160;</td><td class="mdescRight">doctest checks  <br /></td></tr>
<tr class="separator:ae11b24a715b64b66400f470c9e1eca19"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="afb61bae04ad14e880bc46e7e292a46b1" name="afb61bae04ad14e880bc46e7e292a46b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb61bae04ad14e880bc46e7e292a46b1">&#9670;&#160;</a></span>prepare_result()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool prepare_result </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlzma__compress__result__t.html">lzma_compress_result_t</a> *&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>src_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlzma__compress__config__t.html">lzma_compress_config_t</a> *&#160;</td>
          <td class="paramname"><em>lcconf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>compress defaults </p>

<p class="definition">Definition at line <a class="el" href="compress__lzma_8cpp_source.html#l00065">65</a> of file <a class="el" href="compress__lzma_8cpp_source.html">compress_lzma.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   66</span>                                                                 {</div>
<div class="line"><span class="lineno">   67</span>    <span class="comment">// setup defaults</span></div>
<div class="line"><span class="lineno">   68</span>    res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a468cd00bfa34f090bd23a6002f2bb652">pos_bits</a> = 2;                <span class="comment">// 0 .. 4</span></div>
<div class="line"><span class="lineno">   69</span>    res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a4d5531147a88c0993ee52680894ab9c5">lit_pos_bits</a> = 0;            <span class="comment">// 0 .. 4</span></div>
<div class="line"><span class="lineno">   70</span>    res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a70f24589bfca62644dfa26313141f55b">lit_context_bits</a> = 3;        <span class="comment">// 0 .. 8</span></div>
<div class="line"><span class="lineno">   71</span>    res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a75a22a13627a0248686ae15e3e4e2448">dict_size</a> = 4 * 1024 * 1024; <span class="comment">// 1 .. 2**30</span></div>
<div class="line"><span class="lineno">   72</span>    res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a45b17fdbdcd1ce83b7362836246aad26">fast_mode</a> = 2;               <span class="comment">// 0 .. 2</span></div>
<div class="line"><span class="lineno">   73</span>    res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a8c5e14bfef9ca791e50e98f00f7d2fe5">num_fast_bytes</a> = 64;         <span class="comment">// 5 .. 273</span></div>
<div class="line"><span class="lineno">   74</span>    res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a7da9c499ab0bc759a4b63a7db04c0fc6">match_finder_cycles</a> = 0;</div>
<div class="line"><span class="lineno">   75</span>    <span class="comment">// UPX overrides</span></div>
<div class="line"><span class="lineno">   76</span>    res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a468cd00bfa34f090bd23a6002f2bb652">pos_bits</a> = <a class="code hl_variable" href="structupx_1_1OptVar.html#aff2a40382f898d9829ec9eda58310c5a">lzma_compress_config_t::pos_bits_t::default_value</a>;</div>
<div class="line"><span class="lineno">   77</span>    res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a4d5531147a88c0993ee52680894ab9c5">lit_pos_bits</a> = <a class="code hl_variable" href="structupx_1_1OptVar.html#aff2a40382f898d9829ec9eda58310c5a">lzma_compress_config_t::lit_pos_bits_t::default_value</a>;</div>
<div class="line"><span class="lineno">   78</span>    res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a70f24589bfca62644dfa26313141f55b">lit_context_bits</a> = <a class="code hl_variable" href="structupx_1_1OptVar.html#aff2a40382f898d9829ec9eda58310c5a">lzma_compress_config_t::lit_context_bits_t::default_value</a>;</div>
<div class="line"><span class="lineno">   79</span>    res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a75a22a13627a0248686ae15e3e4e2448">dict_size</a> = <a class="code hl_variable" href="structupx_1_1OptVar.html#aff2a40382f898d9829ec9eda58310c5a">lzma_compress_config_t::dict_size_t::default_value</a>;</div>
<div class="line"><span class="lineno">   80</span>    res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a8c5e14bfef9ca791e50e98f00f7d2fe5">num_fast_bytes</a> = <a class="code hl_variable" href="structupx_1_1OptVar.html#aff2a40382f898d9829ec9eda58310c5a">lzma_compress_config_t::num_fast_bytes_t::default_value</a>;</div>
<div class="line"><span class="lineno">   81</span>    <span class="comment">// method overrides</span></div>
<div class="line"><span class="lineno">   82</span>    <span class="keywordflow">if</span> (method &gt;= 0x100) {</div>
<div class="line"><span class="lineno">   83</span>        res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a468cd00bfa34f090bd23a6002f2bb652">pos_bits</a> = (method &gt;&gt; 16) &amp; 15;</div>
<div class="line"><span class="lineno">   84</span>        res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a4d5531147a88c0993ee52680894ab9c5">lit_pos_bits</a> = (method &gt;&gt; 12) &amp; 15;</div>
<div class="line"><span class="lineno">   85</span>        res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a70f24589bfca62644dfa26313141f55b">lit_context_bits</a> = (method &gt;&gt; 8) &amp; 15;</div>
<div class="line"><span class="lineno">   86</span>    }</div>
<div class="line"><span class="lineno">   87</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno">   88</span>    <span class="comment">// DEBUG - set sizes so that we use a maximum amount of stack.</span></div>
<div class="line"><span class="lineno">   89</span>    <span class="comment">//  These settings cause res-&gt;num_probs == 3147574, i.e. we will</span></div>
<div class="line"><span class="lineno">   90</span>    <span class="comment">//  need about 6 MiB of stack during runtime decompression.</span></div>
<div class="line"><span class="lineno">   91</span>    res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a4d5531147a88c0993ee52680894ab9c5">lit_pos_bits</a>     = 4;</div>
<div class="line"><span class="lineno">   92</span>    res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a70f24589bfca62644dfa26313141f55b">lit_context_bits</a> = 8;</div>
<div class="line"><span class="lineno">   93</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>    <span class="comment">// TODO: tune these settings according to level</span></div>
<div class="line"><span class="lineno">   96</span>    <span class="keywordflow">switch</span> (level) {</div>
<div class="line"><span class="lineno">   97</span>    <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno">   98</span>        res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a75a22a13627a0248686ae15e3e4e2448">dict_size</a> = 256 * 1024;</div>
<div class="line"><span class="lineno">   99</span>        res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a45b17fdbdcd1ce83b7362836246aad26">fast_mode</a> = 0;</div>
<div class="line"><span class="lineno">  100</span>        res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a8c5e14bfef9ca791e50e98f00f7d2fe5">num_fast_bytes</a> = 8;</div>
<div class="line"><span class="lineno">  101</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  102</span>    <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno">  103</span>        res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a75a22a13627a0248686ae15e3e4e2448">dict_size</a> = 256 * 1024;</div>
<div class="line"><span class="lineno">  104</span>        res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a45b17fdbdcd1ce83b7362836246aad26">fast_mode</a> = 0;</div>
<div class="line"><span class="lineno">  105</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  106</span>    <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno">  107</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  108</span>    <span class="keywordflow">case</span> 4:</div>
<div class="line"><span class="lineno">  109</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  110</span>    <span class="keywordflow">case</span> 5:</div>
<div class="line"><span class="lineno">  111</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  112</span>    <span class="keywordflow">case</span> 6:</div>
<div class="line"><span class="lineno">  113</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  114</span>    <span class="keywordflow">case</span> 7:</div>
<div class="line"><span class="lineno">  115</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  116</span>    <span class="keywordflow">case</span> 8:</div>
<div class="line"><span class="lineno">  117</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  118</span>    <span class="keywordflow">case</span> 9:</div>
<div class="line"><span class="lineno">  119</span>        res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a75a22a13627a0248686ae15e3e4e2448">dict_size</a> = 8 * 1024 * 1024;</div>
<div class="line"><span class="lineno">  120</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  121</span>    <span class="keywordflow">case</span> 10:</div>
<div class="line"><span class="lineno">  122</span>        res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a75a22a13627a0248686ae15e3e4e2448">dict_size</a> = src_len;</div>
<div class="line"><span class="lineno">  123</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  124</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  125</span>        <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  126</span>    }</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>    <span class="comment">// cconf overrides</span></div>
<div class="line"><span class="lineno">  129</span>    <span class="keywordflow">if</span> (lcconf) {</div>
<div class="line"><span class="lineno">  130</span>        <a class="code hl_function" href="namespaceupx.html#a223ed38dcb8092b15a7d0b0fedfa1c3b">upx::oassign</a>(res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a468cd00bfa34f090bd23a6002f2bb652">pos_bits</a>, lcconf-&gt;<a class="code hl_variable" href="structlzma__compress__config__t.html#a6e176a084116321c927ce2633f5428a9">pos_bits</a>);</div>
<div class="line"><span class="lineno">  131</span>        <a class="code hl_function" href="namespaceupx.html#a223ed38dcb8092b15a7d0b0fedfa1c3b">upx::oassign</a>(res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a4d5531147a88c0993ee52680894ab9c5">lit_pos_bits</a>, lcconf-&gt;<a class="code hl_variable" href="structlzma__compress__config__t.html#ab8c1013c87ccd6f0770ca84bde8f0779">lit_pos_bits</a>);</div>
<div class="line"><span class="lineno">  132</span>        <a class="code hl_function" href="namespaceupx.html#a223ed38dcb8092b15a7d0b0fedfa1c3b">upx::oassign</a>(res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a70f24589bfca62644dfa26313141f55b">lit_context_bits</a>, lcconf-&gt;<a class="code hl_variable" href="structlzma__compress__config__t.html#ac465d161d0a4646d1ca2954bc4349960">lit_context_bits</a>);</div>
<div class="line"><span class="lineno">  133</span>        <a class="code hl_function" href="namespaceupx.html#a223ed38dcb8092b15a7d0b0fedfa1c3b">upx::oassign</a>(res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a75a22a13627a0248686ae15e3e4e2448">dict_size</a>, lcconf-&gt;<a class="code hl_variable" href="structlzma__compress__config__t.html#a288d2598ee9117450b1c4ccd0aaee223">dict_size</a>);</div>
<div class="line"><span class="lineno">  134</span>        <a class="code hl_function" href="namespaceupx.html#a223ed38dcb8092b15a7d0b0fedfa1c3b">upx::oassign</a>(res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a8c5e14bfef9ca791e50e98f00f7d2fe5">num_fast_bytes</a>, lcconf-&gt;<a class="code hl_variable" href="structlzma__compress__config__t.html#a08aa068218b59888eb11c88632075b12">num_fast_bytes</a>);</div>
<div class="line"><span class="lineno">  135</span>    }</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>    <span class="comment">// limit dictionary size</span></div>
<div class="line"><span class="lineno">  138</span>    <span class="keywordflow">if</span> (res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a75a22a13627a0248686ae15e3e4e2448">dict_size</a> &gt; src_len)</div>
<div class="line"><span class="lineno">  139</span>        res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a75a22a13627a0248686ae15e3e4e2448">dict_size</a> = src_len;</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>    <span class="comment">// limit num_probs</span></div>
<div class="line"><span class="lineno">  142</span>    <span class="keywordflow">if</span> (lcconf &amp;&amp; lcconf-&gt;<a class="code hl_variable" href="structlzma__compress__config__t.html#ae4ff103674e4fff3e9f642b9707b59f9">max_num_probs</a>) {</div>
<div class="line"><span class="lineno">  143</span>        <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><span class="lineno">  144</span>            <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="xspan__fwd_8h.html#af532e634462c5e42c213735f6869b383">n</a> = 1846 + (768u &lt;&lt; (res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a70f24589bfca62644dfa26313141f55b">lit_context_bits</a> + res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a4d5531147a88c0993ee52680894ab9c5">lit_pos_bits</a>));</div>
<div class="line"><span class="lineno">  145</span>            <span class="keywordflow">if</span> (n &lt;= lcconf-&gt;max_num_probs)</div>
<div class="line"><span class="lineno">  146</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  147</span>            <span class="keywordflow">if</span> (res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a4d5531147a88c0993ee52680894ab9c5">lit_pos_bits</a> &gt; res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a70f24589bfca62644dfa26313141f55b">lit_context_bits</a>) {</div>
<div class="line"><span class="lineno">  148</span>                <span class="keywordflow">if</span> (res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a4d5531147a88c0993ee52680894ab9c5">lit_pos_bits</a> == 0)</div>
<div class="line"><span class="lineno">  149</span>                    <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  150</span>                res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a4d5531147a88c0993ee52680894ab9c5">lit_pos_bits</a> -= 1;</div>
<div class="line"><span class="lineno">  151</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  152</span>                <span class="keywordflow">if</span> (res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a70f24589bfca62644dfa26313141f55b">lit_context_bits</a> == 0)</div>
<div class="line"><span class="lineno">  153</span>                    <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  154</span>                res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a70f24589bfca62644dfa26313141f55b">lit_context_bits</a> -= 1;</div>
<div class="line"><span class="lineno">  155</span>            }</div>
<div class="line"><span class="lineno">  156</span>        }</div>
<div class="line"><span class="lineno">  157</span>    }</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>    <a class="code hl_function" href="structupx_1_1OptVar.html#a281511b3f5d732c4fca2e3e28fa6ea45">lzma_compress_config_t::pos_bits_t::assertValue</a>(res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a468cd00bfa34f090bd23a6002f2bb652">pos_bits</a>);</div>
<div class="line"><span class="lineno">  160</span>    <a class="code hl_function" href="structupx_1_1OptVar.html#a281511b3f5d732c4fca2e3e28fa6ea45">lzma_compress_config_t::lit_pos_bits_t::assertValue</a>(res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a4d5531147a88c0993ee52680894ab9c5">lit_pos_bits</a>);</div>
<div class="line"><span class="lineno">  161</span>    <a class="code hl_function" href="structupx_1_1OptVar.html#a281511b3f5d732c4fca2e3e28fa6ea45">lzma_compress_config_t::lit_context_bits_t::assertValue</a>(res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a70f24589bfca62644dfa26313141f55b">lit_context_bits</a>);</div>
<div class="line"><span class="lineno">  162</span>    <a class="code hl_function" href="structupx_1_1OptVar.html#a281511b3f5d732c4fca2e3e28fa6ea45">lzma_compress_config_t::dict_size_t::assertValue</a>(res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a75a22a13627a0248686ae15e3e4e2448">dict_size</a>);</div>
<div class="line"><span class="lineno">  163</span>    <a class="code hl_function" href="structupx_1_1OptVar.html#a281511b3f5d732c4fca2e3e28fa6ea45">lzma_compress_config_t::num_fast_bytes_t::assertValue</a>(res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a8c5e14bfef9ca791e50e98f00f7d2fe5">num_fast_bytes</a>);</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>    res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a614c8fccf069e975f9cb30953f697070">num_probs</a> = 1846 + (768u &lt;&lt; (res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a70f24589bfca62644dfa26313141f55b">lit_context_bits</a> + res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a4d5531147a88c0993ee52680894ab9c5">lit_pos_bits</a>));</div>
<div class="line"><span class="lineno">  166</span>    <a class="code hl_function" href="conf_8h.html#af79eab1f480f5a57b6bfbff38256b0d2">NO_printf</a>(<span class="stringliteral">&quot;\nlzma_compress config: %u %u %u %u %u\n&quot;</span>, res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a468cd00bfa34f090bd23a6002f2bb652">pos_bits</a>, res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a4d5531147a88c0993ee52680894ab9c5">lit_pos_bits</a>,</div>
<div class="line"><span class="lineno">  167</span>              res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a70f24589bfca62644dfa26313141f55b">lit_context_bits</a>, res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a75a22a13627a0248686ae15e3e4e2448">dict_size</a>, res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a614c8fccf069e975f9cb30953f697070">num_probs</a>);</div>
<div class="line"><span class="lineno">  168</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>error:</div>
<div class="line"><span class="lineno">  171</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  172</span>}</div>
<div class="ttc" id="aconf_8h_html_af79eab1f480f5a57b6bfbff38256b0d2"><div class="ttname"><a href="conf_8h.html#af79eab1f480f5a57b6bfbff38256b0d2">NO_printf</a></div><div class="ttdeci">void NO_printf(const char *,...) noexcept attribute_format(1</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00375">conf.h:375</a></div></div>
<div class="ttc" id="anamespaceupx_html_a223ed38dcb8092b15a7d0b0fedfa1c3b"><div class="ttname"><a href="namespaceupx.html#a223ed38dcb8092b15a7d0b0fedfa1c3b">upx::oassign</a></div><div class="ttdeci">void oassign(OptVar&lt; T, a, b, c &gt; &amp;self, const OptVar&lt; T, a, b, c &gt; &amp;other) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="cxxlib_8h_source.html#l00703">cxxlib.h:703</a></div></div>
<div class="ttc" id="astructlzma__compress__config__t_html_a08aa068218b59888eb11c88632075b12"><div class="ttname"><a href="structlzma__compress__config__t.html#a08aa068218b59888eb11c88632075b12">lzma_compress_config_t::num_fast_bytes</a></div><div class="ttdeci">num_fast_bytes_t num_fast_bytes</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00674">conf.h:674</a></div></div>
<div class="ttc" id="astructlzma__compress__config__t_html_a288d2598ee9117450b1c4ccd0aaee223"><div class="ttname"><a href="structlzma__compress__config__t.html#a288d2598ee9117450b1c4ccd0aaee223">lzma_compress_config_t::dict_size</a></div><div class="ttdeci">dict_size_t dict_size</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00672">conf.h:672</a></div></div>
<div class="ttc" id="astructlzma__compress__config__t_html_a6e176a084116321c927ce2633f5428a9"><div class="ttname"><a href="structlzma__compress__config__t.html#a6e176a084116321c927ce2633f5428a9">lzma_compress_config_t::pos_bits</a></div><div class="ttdeci">pos_bits_t pos_bits</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00669">conf.h:669</a></div></div>
<div class="ttc" id="astructlzma__compress__config__t_html_ab8c1013c87ccd6f0770ca84bde8f0779"><div class="ttname"><a href="structlzma__compress__config__t.html#ab8c1013c87ccd6f0770ca84bde8f0779">lzma_compress_config_t::lit_pos_bits</a></div><div class="ttdeci">lit_pos_bits_t lit_pos_bits</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00670">conf.h:670</a></div></div>
<div class="ttc" id="astructlzma__compress__config__t_html_ac465d161d0a4646d1ca2954bc4349960"><div class="ttname"><a href="structlzma__compress__config__t.html#ac465d161d0a4646d1ca2954bc4349960">lzma_compress_config_t::lit_context_bits</a></div><div class="ttdeci">lit_context_bits_t lit_context_bits</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00671">conf.h:671</a></div></div>
<div class="ttc" id="astructlzma__compress__config__t_html_ae4ff103674e4fff3e9f642b9707b59f9"><div class="ttname"><a href="structlzma__compress__config__t.html#ae4ff103674e4fff3e9f642b9707b59f9">lzma_compress_config_t::max_num_probs</a></div><div class="ttdeci">unsigned max_num_probs</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00677">conf.h:677</a></div></div>
<div class="ttc" id="astructlzma__compress__result__t_html_a45b17fdbdcd1ce83b7362836246aad26"><div class="ttname"><a href="structlzma__compress__result__t.html#a45b17fdbdcd1ce83b7362836246aad26">lzma_compress_result_t::fast_mode</a></div><div class="ttdeci">unsigned fast_mode</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00737">conf.h:737</a></div></div>
<div class="ttc" id="astructlzma__compress__result__t_html_a468cd00bfa34f090bd23a6002f2bb652"><div class="ttname"><a href="structlzma__compress__result__t.html#a468cd00bfa34f090bd23a6002f2bb652">lzma_compress_result_t::pos_bits</a></div><div class="ttdeci">unsigned pos_bits</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00733">conf.h:733</a></div></div>
<div class="ttc" id="astructlzma__compress__result__t_html_a4d5531147a88c0993ee52680894ab9c5"><div class="ttname"><a href="structlzma__compress__result__t.html#a4d5531147a88c0993ee52680894ab9c5">lzma_compress_result_t::lit_pos_bits</a></div><div class="ttdeci">unsigned lit_pos_bits</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00734">conf.h:734</a></div></div>
<div class="ttc" id="astructlzma__compress__result__t_html_a614c8fccf069e975f9cb30953f697070"><div class="ttname"><a href="structlzma__compress__result__t.html#a614c8fccf069e975f9cb30953f697070">lzma_compress_result_t::num_probs</a></div><div class="ttdeci">unsigned num_probs</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00740">conf.h:740</a></div></div>
<div class="ttc" id="astructlzma__compress__result__t_html_a70f24589bfca62644dfa26313141f55b"><div class="ttname"><a href="structlzma__compress__result__t.html#a70f24589bfca62644dfa26313141f55b">lzma_compress_result_t::lit_context_bits</a></div><div class="ttdeci">unsigned lit_context_bits</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00735">conf.h:735</a></div></div>
<div class="ttc" id="astructlzma__compress__result__t_html_a75a22a13627a0248686ae15e3e4e2448"><div class="ttname"><a href="structlzma__compress__result__t.html#a75a22a13627a0248686ae15e3e4e2448">lzma_compress_result_t::dict_size</a></div><div class="ttdeci">unsigned dict_size</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00736">conf.h:736</a></div></div>
<div class="ttc" id="astructlzma__compress__result__t_html_a7da9c499ab0bc759a4b63a7db04c0fc6"><div class="ttname"><a href="structlzma__compress__result__t.html#a7da9c499ab0bc759a4b63a7db04c0fc6">lzma_compress_result_t::match_finder_cycles</a></div><div class="ttdeci">unsigned match_finder_cycles</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00739">conf.h:739</a></div></div>
<div class="ttc" id="astructlzma__compress__result__t_html_a8c5e14bfef9ca791e50e98f00f7d2fe5"><div class="ttname"><a href="structlzma__compress__result__t.html#a8c5e14bfef9ca791e50e98f00f7d2fe5">lzma_compress_result_t::num_fast_bytes</a></div><div class="ttdeci">unsigned num_fast_bytes</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00738">conf.h:738</a></div></div>
<div class="ttc" id="astructupx_1_1OptVar_html_a281511b3f5d732c4fca2e3e28fa6ea45"><div class="ttname"><a href="structupx_1_1OptVar.html#a281511b3f5d732c4fca2e3e28fa6ea45">upx::OptVar&lt; unsigned, 2u, 0u, 4u &gt;::assertValue</a></div><div class="ttdeci">void assertValue() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="cxxlib_8h_source.html#l00681">cxxlib.h:681</a></div></div>
<div class="ttc" id="astructupx_1_1OptVar_html_aff2a40382f898d9829ec9eda58310c5a"><div class="ttname"><a href="structupx_1_1OptVar.html#aff2a40382f898d9829ec9eda58310c5a">upx::OptVar&lt; unsigned, 2u, 0u, 4u &gt;::default_value</a></div><div class="ttdeci">static constexpr unsigned default_value</div><div class="ttdef"><b>Definition:</b> <a href="cxxlib_8h_source.html#l00667">cxxlib.h:667</a></div></div>
<div class="ttc" id="axspan__fwd_8h_html_af532e634462c5e42c213735f6869b383"><div class="ttname"><a href="xspan__fwd_8h.html#af532e634462c5e42c213735f6869b383">n</a></div><div class="ttdeci">const C&lt; U &gt; size_t n</div><div class="ttdef"><b>Definition:</b> <a href="xspan__fwd_8h_source.html#l00080">xspan_fwd.h:80</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="structupx_1_1OptVar.html#a281511b3f5d732c4fca2e3e28fa6ea45">upx::OptVar&lt; unsigned, 0u, 0u, 4u &gt;::assertValue()</a>, <a class="el" href="structupx_1_1OptVar.html#a281511b3f5d732c4fca2e3e28fa6ea45">upx::OptVar&lt; T, default_value_, min_value_, max_value_ &gt;::assertValue()</a>, <a class="el" href="structupx_1_1OptVar.html#a281511b3f5d732c4fca2e3e28fa6ea45">upx::OptVar&lt; unsigned, 2u, 0u, 4u &gt;::assertValue()</a>, <a class="el" href="structupx_1_1OptVar.html#a281511b3f5d732c4fca2e3e28fa6ea45">upx::OptVar&lt; unsigned, 3u, 0u, 8u &gt;::assertValue()</a>, <a class="el" href="structupx_1_1OptVar.html#a281511b3f5d732c4fca2e3e28fa6ea45">upx::OptVar&lt; unsigned, 64u, 5u, 273u &gt;::assertValue()</a>, <a class="el" href="structupx_1_1OptVar.html#aff2a40382f898d9829ec9eda58310c5a">upx::OptVar&lt; unsigned, 3u, 0u, 8u &gt;::default_value</a>, <a class="el" href="structupx_1_1OptVar.html#aff2a40382f898d9829ec9eda58310c5a">upx::OptVar&lt; unsigned, 2u, 0u, 4u &gt;::default_value</a>, <a class="el" href="structupx_1_1OptVar.html#aff2a40382f898d9829ec9eda58310c5a">upx::OptVar&lt; T, default_value_, min_value_, max_value_ &gt;::default_value</a>, <a class="el" href="structupx_1_1OptVar.html#aff2a40382f898d9829ec9eda58310c5a">upx::OptVar&lt; unsigned, 0u, 0u, 4u &gt;::default_value</a>, <a class="el" href="structupx_1_1OptVar.html#aff2a40382f898d9829ec9eda58310c5a">upx::OptVar&lt; unsigned, 64u, 5u, 273u &gt;::default_value</a>, <a class="el" href="structlzma__compress__config__t.html#a288d2598ee9117450b1c4ccd0aaee223">lzma_compress_config_t::dict_size</a>, <a class="el" href="structlzma__compress__result__t.html#a75a22a13627a0248686ae15e3e4e2448">lzma_compress_result_t::dict_size</a>, <a class="el" href="structlzma__compress__result__t.html#a45b17fdbdcd1ce83b7362836246aad26">lzma_compress_result_t::fast_mode</a>, <a class="el" href="structlzma__compress__config__t.html#ac465d161d0a4646d1ca2954bc4349960">lzma_compress_config_t::lit_context_bits</a>, <a class="el" href="structlzma__compress__result__t.html#a70f24589bfca62644dfa26313141f55b">lzma_compress_result_t::lit_context_bits</a>, <a class="el" href="structlzma__compress__config__t.html#ab8c1013c87ccd6f0770ca84bde8f0779">lzma_compress_config_t::lit_pos_bits</a>, <a class="el" href="structlzma__compress__result__t.html#a4d5531147a88c0993ee52680894ab9c5">lzma_compress_result_t::lit_pos_bits</a>, <a class="el" href="structlzma__compress__result__t.html#a7da9c499ab0bc759a4b63a7db04c0fc6">lzma_compress_result_t::match_finder_cycles</a>, <a class="el" href="structlzma__compress__config__t.html#ae4ff103674e4fff3e9f642b9707b59f9">lzma_compress_config_t::max_num_probs</a>, <a class="el" href="xspan__fwd_8h.html#af532e634462c5e42c213735f6869b383">n</a>, <a class="el" href="conf_8h.html#af79eab1f480f5a57b6bfbff38256b0d2">NO_printf()</a>, <a class="el" href="structlzma__compress__config__t.html#a08aa068218b59888eb11c88632075b12">lzma_compress_config_t::num_fast_bytes</a>, <a class="el" href="structlzma__compress__result__t.html#a8c5e14bfef9ca791e50e98f00f7d2fe5">lzma_compress_result_t::num_fast_bytes</a>, <a class="el" href="structlzma__compress__result__t.html#a614c8fccf069e975f9cb30953f697070">lzma_compress_result_t::num_probs</a>, <a class="el" href="namespaceupx.html#a223ed38dcb8092b15a7d0b0fedfa1c3b">upx::oassign()</a>, <a class="el" href="structlzma__compress__config__t.html#a6e176a084116321c927ce2633f5428a9">lzma_compress_config_t::pos_bits</a>, and <a class="el" href="structlzma__compress__result__t.html#a468cd00bfa34f090bd23a6002f2bb652">lzma_compress_result_t::pos_bits</a>.</p>

<p class="reference">Referenced by <a class="el" href="compress__lzma_8cpp.html#a16968f66ecd1f6e7a199462fc20b5b9c">upx_lzma_compress()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="compress__lzma_8cpp_afb61bae04ad14e880bc46e7e292a46b1_cgraph.png" border="0" usemap="#acompress__lzma_8cpp_afb61bae04ad14e880bc46e7e292a46b1_cgraph" alt=""/></div>
<map name="acompress__lzma_8cpp_afb61bae04ad14e880bc46e7e292a46b1_cgraph" id="acompress__lzma_8cpp_afb61bae04ad14e880bc46e7e292a46b1_cgraph">
<area shape="rect" title="compress defaults" alt="" coords="5,29,121,54"/>
<area shape="rect" href="structupx_1_1OptVar.html#a281511b3f5d732c4fca2e3e28fa6ea45" title=" " alt="" coords="169,22,359,62"/>
<area shape="rect" href="conf_8h.html#af79eab1f480f5a57b6bfbff38256b0d2" title=" " alt="" coords="222,86,306,112"/>
<area shape="rect" href="namespaceupx.html#a223ed38dcb8092b15a7d0b0fedfa1c3b" title=" " alt="" coords="212,136,316,161"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="compress__lzma_8cpp_afb61bae04ad14e880bc46e7e292a46b1_icgraph.png" border="0" usemap="#acompress__lzma_8cpp_afb61bae04ad14e880bc46e7e292a46b1_icgraph" alt=""/></div>
<map name="acompress__lzma_8cpp_afb61bae04ad14e880bc46e7e292a46b1_icgraph" id="acompress__lzma_8cpp_afb61bae04ad14e880bc46e7e292a46b1_icgraph">
<area shape="rect" title="compress defaults" alt="" coords="1356,874,1472,899"/>
<area shape="rect" href="compress__lzma_8cpp.html#a16968f66ecd1f6e7a199462fc20b5b9c" title=" " alt="" coords="1153,874,1308,899"/>
<area shape="rect" href="compress_8cpp.html#a503ce434d639fefff3eee167b8bc5b64" title=" " alt="" coords="989,874,1105,899"/>
<area shape="rect" href="classPackLinuxElf32.html#a2de3b0ba7a17f5de7f5a62f5df6a0bb3" title=" " alt="" coords="725,293,919,333"/>
<area shape="rect" href="classPackLinuxElf64.html#acf98749f15000ddd7c39f330ec145341" title=" " alt="" coords="725,661,919,701"/>
<area shape="rect" href="classPackExe.html#a5537bbb621abd219b4de222eb25e4f15" title=" " alt="" coords="743,726,901,751"/>
<area shape="rect" href="classPackPs1.html#a6e98ea6d20b1d546d0541e1f3dce818a" title=" " alt="" coords="743,825,901,850"/>
<area shape="rect" href="classPackMachBase.html#a300e8e2dca80a3d6cc69e39a477b4726" title=" " alt="" coords="703,874,941,899"/>
<area shape="rect" href="classPacker.html#add5cc1c8eff3bbc8aaf7ec0cf03cb82e" title="compress &#45; wrap call to low&#45;level upx_compress()" alt="" coords="755,1026,889,1051"/>
<area shape="rect" href="classPacker.html#a6c29dbab3c13461ccccdf08ba3b6cde2" title=" " alt="" coords="442,1005,647,1030"/>
<area shape="rect" href="classPackUnix.html#ad3f398fa4a3b34fd79f441e3069f78b1" title=" " alt="" coords="463,1054,626,1079"/>
<area shape="rect" href="classPackVmlinuxBase.html#a3ab914eaf3facd8f2b5e61079dce6362" title=" " alt="" coords="733,1127,911,1153"/>
<area shape="rect" href="classPackLinuxElf.html#a5384daf1baa189915edd8bbb8821ee88" title=" " alt="" coords="451,917,638,957"/>
<area shape="rect" href="classPackPs1.html#a857d87b9897be5b39673319cbf8cf551" title=" " alt="" coords="731,775,913,801"/>
<area shape="rect" href="classPackLinuxElf32ppc.html#a837a4d1bf96e44b0ecd11e7150c5565b" title=" " alt="" coords="469,389,620,429"/>
<area shape="rect" href="classPackLinuxElf32x86.html#a69d1831a5732ba82bc6a21e187003b81" title=" " alt="" coords="469,453,621,493"/>
<area shape="rect" href="classPackBSDElf32x86.html#a28fe533055d17e4e4570bc890dd802b4" title=" " alt="" coords="435,518,655,543"/>
<area shape="rect" href="classPackLinuxElf32armLe.html#abf40ab0b8e777d22c12eebf77a8dde2a" title=" " alt="" coords="464,5,625,45"/>
<area shape="rect" href="classPackLinuxElf32armBe.html#a4eaf1a02af96f64941c82e06aff51237" title=" " alt="" coords="463,69,626,109"/>
<area shape="rect" href="classPackLinuxElf32mipseb.html#af1b1d619d6cf7810897aa82c57a7638d" title=" " alt="" coords="461,133,629,173"/>
<area shape="rect" href="classPackLinuxElf32mipsel.html#abb9c15cc5a974ec3554d78bfc7999b09" title=" " alt="" coords="463,197,627,237"/>
<area shape="rect" href="classPackNetBSDElf32x86.html#a52476626884e67e577a2e37a8a934634" title=" " alt="" coords="465,261,624,301"/>
<area shape="rect" href="classPackOpenBSDElf32x86.html#a814d4f91e539a066454d1d2f360d5b79" title=" " alt="" coords="459,325,630,365"/>
<area shape="rect" href="classPackLinuxElf64amd.html#a4e925c41e1f85114a34b4fec6a0bfc18" title=" " alt="" coords="466,760,623,800"/>
<area shape="rect" href="classPackLinuxElf64arm.html#a433b6323d27480148574ea89b6ee3634" title=" " alt="" coords="467,568,622,608"/>
<area shape="rect" href="classPackLinuxElf64ppcle.html#adeb403f68ec4aeb636a5ecf2ce9039f1" title=" " alt="" coords="467,632,622,672"/>
<area shape="rect" href="classPackLinuxElf64ppc.html#ad2998d239264bc145084afbd56fec5b7" title=" " alt="" coords="469,696,620,736"/>
<area shape="rect" href="classPackPs1.html#a542fd798443fb299c1d95ee98db5ae53" title=" " alt="" coords="487,825,602,850"/>
<area shape="rect" href="classPackLinuxElf32.html#a475c24cd3f9652ad82ea69cdf377aca5" title=" " alt="" coords="5,943,172,969"/>
<area shape="rect" href="classPackLinuxElf64.html#ae4c3d3d66cd14ea19fc44d0f90274092" title=" " alt="" coords="5,1018,172,1043"/>
<area shape="rect" href="classPackLinuxElf32.html#a200cba9c5eb9ae89197ba6d08df32ba5" title=" " alt="" coords="220,875,387,915"/>
<area shape="rect" href="classPackLinuxElf64.html#a72eb546964b4b777ec38c3da1972eeb8" title=" " alt="" coords="220,939,387,979"/>
<area shape="rect" href="classPackLinuxElf32.html#aaea43508f7513692cf3da5e91677c52c" title=" " alt="" coords="220,1155,387,1181"/>
<area shape="rect" href="classPackLinuxElf64.html#a34abb7fc5a62a52800339d603f78f562" title=" " alt="" coords="220,1054,387,1079"/>
</map>
</div>

</div>
</div>
<a id="ae11b24a715b64b66400f470c9e1eca19" name="ae11b24a715b64b66400f470c9e1eca19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae11b24a715b64b66400f470c9e1eca19">&#9670;&#160;</a></span>TEST_CASE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_CASE </td>
          <td>(</td>
          <td class="paramtype">&quot;upx_lzma_decompress&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>doctest checks </p>

<p class="definition">Definition at line <a class="el" href="compress__lzma_8cpp_source.html#l00508">508</a> of file <a class="el" href="compress__lzma_8cpp_source.html">compress_lzma.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  508</span>                                 {</div>
<div class="line"><span class="lineno">  509</span>    <span class="keyword">const</span> <span class="keywordtype">byte</span> *c_data;</div>
<div class="line"><span class="lineno">  510</span>    <span class="keywordtype">byte</span> d_buf[16];</div>
<div class="line"><span class="lineno">  511</span>    <span class="keywordtype">unsigned</span> d_len;</div>
<div class="line"><span class="lineno">  512</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno">  513</span> </div>
<div class="line"><span class="lineno">  514</span>    c_data = (<span class="keyword">const</span> <span class="keywordtype">byte</span> *) <span class="stringliteral">&quot;\x1a\x03\x00\x7f\xed\x3c\x00\x00\x00&quot;</span>;</div>
<div class="line"><span class="lineno">  515</span>    d_len = 16;</div>
<div class="line"><span class="lineno">  516</span>    r = <a class="code hl_function" href="compress__lzma_8cpp.html#ad12afac747a98291be2b479b198ac11f">upx_lzma_decompress</a>(c_data, 9, d_buf, &amp;d_len, <a class="code hl_define" href="conf_8h.html#a019151729ec9d9cd6f87106a18fdfb50">M_LZMA</a>, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  517</span>    CHECK((r == 0 &amp;&amp; d_len == 16));</div>
<div class="line"><span class="lineno">  518</span>    r = <a class="code hl_function" href="compress__lzma_8cpp.html#ad12afac747a98291be2b479b198ac11f">upx_lzma_decompress</a>(c_data, 8, d_buf, &amp;d_len, <a class="code hl_define" href="conf_8h.html#a019151729ec9d9cd6f87106a18fdfb50">M_LZMA</a>, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  519</span>    CHECK(r == <a class="code hl_define" href="conf_8h.html#a420f5f25b07705168394d0c47ffa1af5">UPX_E_INPUT_OVERRUN</a>);</div>
<div class="line"><span class="lineno">  520</span>    d_len = 15;</div>
<div class="line"><span class="lineno">  521</span>    r = <a class="code hl_function" href="compress__lzma_8cpp.html#ad12afac747a98291be2b479b198ac11f">upx_lzma_decompress</a>(c_data, 9, d_buf, &amp;d_len, <a class="code hl_define" href="conf_8h.html#a019151729ec9d9cd6f87106a18fdfb50">M_LZMA</a>, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  522</span>    CHECK(r == <a class="code hl_define" href="conf_8h.html#ad58c7267bdff76d323503b79010d372a">UPX_E_OUTPUT_OVERRUN</a>);</div>
<div class="line"><span class="lineno">  523</span>    <a class="code hl_define" href="conf_8h.html#a5f64c424fc4e04a8b3afd79a1e245625">UNUSED</a>(r);</div>
<div class="line"><span class="lineno">  524</span>}</div>
<div class="ttc" id="acompress__lzma_8cpp_html_ad12afac747a98291be2b479b198ac11f"><div class="ttname"><a href="compress__lzma_8cpp.html#ad12afac747a98291be2b479b198ac11f">upx_lzma_decompress</a></div><div class="ttdeci">int upx_lzma_decompress(const upx_bytep src, unsigned src_len, upx_bytep dst, unsigned *dst_len, int method, const upx_compress_result_t *cresult)</div><div class="ttdoc">decompress</div><div class="ttdef"><b>Definition:</b> <a href="compress__lzma_8cpp_source.html#l00402">compress_lzma.cpp:402</a></div></div>
<div class="ttc" id="aconf_8h_html_a019151729ec9d9cd6f87106a18fdfb50"><div class="ttname"><a href="conf_8h.html#a019151729ec9d9cd6f87106a18fdfb50">M_LZMA</a></div><div class="ttdeci">#define M_LZMA</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00599">conf.h:599</a></div></div>
<div class="ttc" id="aconf_8h_html_a420f5f25b07705168394d0c47ffa1af5"><div class="ttname"><a href="conf_8h.html#a420f5f25b07705168394d0c47ffa1af5">UPX_E_INPUT_OVERRUN</a></div><div class="ttdeci">#define UPX_E_INPUT_OVERRUN</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00517">conf.h:517</a></div></div>
<div class="ttc" id="aconf_8h_html_a5f64c424fc4e04a8b3afd79a1e245625"><div class="ttname"><a href="conf_8h.html#a5f64c424fc4e04a8b3afd79a1e245625">UNUSED</a></div><div class="ttdeci">#define UNUSED(var)</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00239">conf.h:239</a></div></div>
<div class="ttc" id="aconf_8h_html_ad58c7267bdff76d323503b79010d372a"><div class="ttname"><a href="conf_8h.html#ad58c7267bdff76d323503b79010d372a">UPX_E_OUTPUT_OVERRUN</a></div><div class="ttdeci">#define UPX_E_OUTPUT_OVERRUN</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00518">conf.h:518</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="conf_8h.html#a019151729ec9d9cd6f87106a18fdfb50">M_LZMA</a>, <a class="el" href="conf_8h.html#a5f64c424fc4e04a8b3afd79a1e245625">UNUSED</a>, <a class="el" href="conf_8h.html#a420f5f25b07705168394d0c47ffa1af5">UPX_E_INPUT_OVERRUN</a>, <a class="el" href="conf_8h.html#ad58c7267bdff76d323503b79010d372a">UPX_E_OUTPUT_OVERRUN</a>, and <a class="el" href="compress__lzma_8cpp.html#ad12afac747a98291be2b479b198ac11f">upx_lzma_decompress()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="compress__lzma_8cpp_ae11b24a715b64b66400f470c9e1eca19_cgraph.png" border="0" usemap="#acompress__lzma_8cpp_ae11b24a715b64b66400f470c9e1eca19_cgraph" alt=""/></div>
<map name="acompress__lzma_8cpp_ae11b24a715b64b66400f470c9e1eca19_cgraph" id="acompress__lzma_8cpp_ae11b24a715b64b66400f470c9e1eca19_cgraph">
<area shape="rect" title="doctest checks" alt="" coords="5,79,100,104"/>
<area shape="rect" href="compress__lzma_8cpp.html#ad12afac747a98291be2b479b198ac11f" title="decompress" alt="" coords="148,79,319,104"/>
<area shape="rect" href="conf_8h.html#a4a6644005b7261400c85ba022c8195c0" title=" " alt="" coords="367,53,461,79"/>
<area shape="rect" href="conf_8h.html#af79eab1f480f5a57b6bfbff38256b0d2" title=" " alt="" coords="372,103,456,128"/>
<area shape="rect" href="xspan__fwd_8h.html#a4ffffab0dc6ead4a09af1dba0b85f71c" title=" " alt="" coords="509,29,585,55"/>
<area shape="rect" href="xspan__impl__common_8h.html#a60304b65bf89363bcc3165d3cde67f86" title=" " alt="" coords="523,79,571,104"/>
<area shape="rect" href="xspan__impl__common_8h.html#af7f8ff1beaa5a2bfec38929faa15a546" title=" " alt="" coords="633,79,724,104"/>
<area shape="rect" href="xspan__impl__common_8h.html#adc002fafd98360e97e7066a463592829" title=" " alt="" coords="772,79,899,104"/>
</map>
</div>

</div>
</div>
<a id="a16968f66ecd1f6e7a199462fc20b5b9c" name="a16968f66ecd1f6e7a199462fc20b5b9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16968f66ecd1f6e7a199462fc20b5b9c">&#9670;&#160;</a></span>upx_lzma_compress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int upx_lzma_compress </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a>&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>src_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a>&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>dst_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structupx__callback__t.html">upx_callback_t</a> *&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structupx__compress__config__t.html">upx_compress_config_t</a> *&#160;</td>
          <td class="paramname"><em>cconf_parm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structupx__compress__result__t.html">upx_compress_result_t</a> *&#160;</td>
          <td class="paramname"><em>cresult</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compress__lzma_8cpp_source.html#l00291">291</a> of file <a class="el" href="compress__lzma_8cpp_source.html">compress_lzma.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  293</span>                                                                                               {</div>
<div class="line"><span class="lineno">  294</span>    assert(<a class="code hl_define" href="conf_8h.html#a5ed704294f18dd341bdf589c31015734">M_IS_LZMA</a>(method));</div>
<div class="line"><span class="lineno">  295</span>    assert(level &gt; 0);</div>
<div class="line"><span class="lineno">  296</span>    assert(cresult != <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  297</span> </div>
<div class="line"><span class="lineno">  298</span>    <span class="keywordtype">int</span> r = <a class="code hl_define" href="conf_8h.html#af24c56e2e801da4fde43566bf7eaa6a1">UPX_E_ERROR</a>;</div>
<div class="line"><span class="lineno">  299</span>    HRESULT rh;</div>
<div class="line"><span class="lineno">  300</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structlzma__compress__config__t.html">lzma_compress_config_t</a> *<span class="keyword">const</span> lcconf = cconf_parm ? &amp;cconf_parm-&gt;<a class="code hl_variable" href="structupx__compress__config__t.html#aa67c16f6e1de8ccac04d07745a439e9e">conf_lzma</a> : <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  301</span>    <a class="code hl_struct" href="structlzma__compress__result__t.html">lzma_compress_result_t</a> *<span class="keyword">const</span> res = &amp;cresult-&gt;<a class="code hl_variable" href="structupx__compress__result__t.html#a1c97146ceb5e55e9c9d00b7fea6f787d">result_lzma</a>;</div>
<div class="line"><span class="lineno">  302</span>    res-&gt;<a class="code hl_function" href="structlzma__compress__result__t.html#a462964e44129ade1d8e19da542d6bdbe">reset</a>();</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>    <a class="code hl_struct" href="structMyLzma_1_1InStream.html">MyLzma::InStream</a> is;</div>
<div class="line"><span class="lineno">  305</span>    is.AddRef();</div>
<div class="line"><span class="lineno">  306</span>    is.<a class="code hl_function" href="structMyLzma_1_1InStream.html#a7c6ed1b9b75290ea255ef978b3a9edb4">Init</a>(src, src_len);</div>
<div class="line"><span class="lineno">  307</span>    <a class="code hl_struct" href="structMyLzma_1_1OutStream.html">MyLzma::OutStream</a> os;</div>
<div class="line"><span class="lineno">  308</span>    os.AddRef();</div>
<div class="line"><span class="lineno">  309</span>    os.<a class="code hl_function" href="structMyLzma_1_1OutStream.html#af8b6165a39d4340349c5550f410fa89d">Init</a>(dst, *dst_len);</div>
<div class="line"><span class="lineno">  310</span>    <a class="code hl_struct" href="structMyLzma_1_1ProgressInfo.html">MyLzma::ProgressInfo</a> progress;</div>
<div class="line"><span class="lineno">  311</span>    progress.AddRef();</div>
<div class="line"><span class="lineno">  312</span>    progress.<a class="code hl_variable" href="structMyLzma_1_1ProgressInfo.html#a97234bb50361878d824c77e0c416a0aa">cb</a> = cb; <span class="comment">// progress.Init()</span></div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span>    NCompress::NLZMA::CEncoder enc;</div>
<div class="line"><span class="lineno">  315</span>    <span class="keyword">constexpr</span> <span class="keywordtype">unsigned</span> NPROPS = 8;</div>
<div class="line"><span class="lineno">  316</span>    <span class="keyword">static</span> <span class="keyword">const</span> PROPID propIDs[NPROPS] = {</div>
<div class="line"><span class="lineno">  317</span>        NCoderPropID::kPosStateBits,      <span class="comment">// 0  pb    _posStateBits(2)</span></div>
<div class="line"><span class="lineno">  318</span>        NCoderPropID::kLitPosBits,        <span class="comment">// 1  lp    _numLiteralPosStateBits(0)</span></div>
<div class="line"><span class="lineno">  319</span>        NCoderPropID::kLitContextBits,    <span class="comment">// 2  lc    _numLiteralContextBits(3)</span></div>
<div class="line"><span class="lineno">  320</span>        NCoderPropID::kDictionarySize,    <span class="comment">// 3  ds</span></div>
<div class="line"><span class="lineno">  321</span>        NCoderPropID::kAlgorithm,         <span class="comment">// 4  fm    _fastmode</span></div>
<div class="line"><span class="lineno">  322</span>        NCoderPropID::kNumFastBytes,      <span class="comment">// 5  fb</span></div>
<div class="line"><span class="lineno">  323</span>        NCoderPropID::kMatchFinderCycles, <span class="comment">// 6  mfc   _matchFinderCycles, _cutValue</span></div>
<div class="line"><span class="lineno">  324</span>        NCoderPropID::kMatchFinder        <span class="comment">// 7  mf</span></div>
<div class="line"><span class="lineno">  325</span>    };</div>
<div class="line"><span class="lineno">  326</span>    PROPVARIANT pr[NPROPS];</div>
<div class="line"><span class="lineno">  327</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="compress__lzma_8cpp.html#afb61bae04ad14e880bc46e7e292a46b1">prepare_result</a>(res, src_len, method, level, lcconf))</div>
<div class="line"><span class="lineno">  328</span>        <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  329</span>    pr[0].vt = pr[1].vt = pr[2].vt = pr[3].vt = pr[4].vt = pr[5].vt = pr[6].vt = VT_UI4;</div>
<div class="line"><span class="lineno">  330</span>    pr[7].vt = VT_BSTR;</div>
<div class="line"><span class="lineno">  331</span>    pr[0].uintVal = res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a468cd00bfa34f090bd23a6002f2bb652">pos_bits</a>;</div>
<div class="line"><span class="lineno">  332</span>    pr[1].uintVal = res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a4d5531147a88c0993ee52680894ab9c5">lit_pos_bits</a>;</div>
<div class="line"><span class="lineno">  333</span>    pr[2].uintVal = res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a70f24589bfca62644dfa26313141f55b">lit_context_bits</a>;</div>
<div class="line"><span class="lineno">  334</span>    pr[3].uintVal = res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a75a22a13627a0248686ae15e3e4e2448">dict_size</a>;</div>
<div class="line"><span class="lineno">  335</span>    pr[4].uintVal = res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a45b17fdbdcd1ce83b7362836246aad26">fast_mode</a>;</div>
<div class="line"><span class="lineno">  336</span>    pr[5].uintVal = res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a8c5e14bfef9ca791e50e98f00f7d2fe5">num_fast_bytes</a>;</div>
<div class="line"><span class="lineno">  337</span>    pr[6].uintVal = res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a7da9c499ab0bc759a4b63a7db04c0fc6">match_finder_cycles</a>;</div>
<div class="line"><span class="lineno">  338</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">wchar_t</span> matchfinder[] = L<span class="stringliteral">&quot;BT4&quot;</span>;</div>
<div class="line"><span class="lineno">  339</span>    assert(NCompress::NLZMA::FindMatchFinder(matchfinder) &gt;= 0);</div>
<div class="line"><span class="lineno">  340</span>    pr[7].bstrVal = <a class="code hl_define" href="miniacc_8h.html#a5493f82e9308a88af645a17b2502b134">ACC_PCAST</a>(BSTR, <a class="code hl_define" href="miniacc_8h.html#acc34e3c6543c37dba5ac9ba535a5b93f">ACC_UNCONST_CAST</a>(<span class="keywordtype">wchar_t</span> *, matchfinder));</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  343</span>        <span class="keywordflow">if</span> (enc.SetCoderProperties(propIDs, pr, NPROPS) != S_OK)</div>
<div class="line"><span class="lineno">  344</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  345</span>        <span class="comment">// encode properties in LZMA-style (5 bytes)</span></div>
<div class="line"><span class="lineno">  346</span>        <span class="keywordflow">if</span> (enc.WriteCoderProperties(&amp;os) != S_OK)</div>
<div class="line"><span class="lineno">  347</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  348</span>        <span class="keywordflow">if</span> (os.<a class="code hl_variable" href="structMyLzma_1_1OutStream.html#a8f7638cb39bd326e591520e467810f7e">overflow</a>) {</div>
<div class="line"><span class="lineno">  349</span>            <span class="comment">// r = UPX_E_OUTPUT_OVERRUN;</span></div>
<div class="line"><span class="lineno">  350</span>            r = <a class="code hl_define" href="conf_8h.html#aa519fb3deba415781f90a8b8d83d2c97">UPX_E_NOT_COMPRESSIBLE</a>;</div>
<div class="line"><span class="lineno">  351</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  352</span>        }</div>
<div class="line"><span class="lineno">  353</span>        assert(os.<a class="code hl_variable" href="structMyLzma_1_1OutStream.html#af68fa6fc286093d1ab9dace88433aaee">b_pos</a> == 5);</div>
<div class="line"><span class="lineno">  354</span> </div>
<div class="line"><span class="lineno">  355</span>        <span class="comment">// reset and encode properties in UPX-style (2 bytes)</span></div>
<div class="line"><span class="lineno">  356</span>        os.<a class="code hl_variable" href="structMyLzma_1_1OutStream.html#af68fa6fc286093d1ab9dace88433aaee">b_pos</a> = 0;</div>
<div class="line"><span class="lineno">  357</span>        <span class="comment">// UPX extra stuff in first byte: 5 high bits convenience for stub decompressor</span></div>
<div class="line"><span class="lineno">  358</span>        <span class="keywordtype">unsigned</span> t = res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a70f24589bfca62644dfa26313141f55b">lit_context_bits</a> + res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a4d5531147a88c0993ee52680894ab9c5">lit_pos_bits</a>;</div>
<div class="line"><span class="lineno">  359</span>        os.<a class="code hl_function" href="structMyLzma_1_1OutStream.html#abb339d269412fd411542bb473ce796e8">WriteByte</a>(Byte((t &lt;&lt; 3) | res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a468cd00bfa34f090bd23a6002f2bb652">pos_bits</a>));</div>
<div class="line"><span class="lineno">  360</span>        os.<a class="code hl_function" href="structMyLzma_1_1OutStream.html#abb339d269412fd411542bb473ce796e8">WriteByte</a>(Byte((res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a4d5531147a88c0993ee52680894ab9c5">lit_pos_bits</a> &lt;&lt; 4) | res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a70f24589bfca62644dfa26313141f55b">lit_context_bits</a>));</div>
<div class="line"><span class="lineno">  361</span> </div>
<div class="line"><span class="lineno">  362</span>        <span class="comment">// compress</span></div>
<div class="line"><span class="lineno">  363</span>        rh = enc.Code(&amp;is, &amp;os, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, &amp;progress);</div>
<div class="line"><span class="lineno">  364</span> </div>
<div class="line"><span class="lineno">  365</span>    } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  366</span>        rh = E_OUTOFMEMORY;</div>
<div class="line"><span class="lineno">  367</span>    }</div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span>    assert(is.<a class="code hl_variable" href="structMyLzma_1_1InStream.html#a87190dad935de0760119b960679d6926">b_pos</a> &lt;= src_len);</div>
<div class="line"><span class="lineno">  370</span>    assert(os.<a class="code hl_variable" href="structMyLzma_1_1OutStream.html#af68fa6fc286093d1ab9dace88433aaee">b_pos</a> &lt;= *dst_len);</div>
<div class="line"><span class="lineno">  371</span>    <span class="keywordflow">if</span> (rh == E_OUTOFMEMORY)</div>
<div class="line"><span class="lineno">  372</span>        r = <a class="code hl_define" href="conf_8h.html#aea263323979fae4f4a5f22a12e5b8bac">UPX_E_OUT_OF_MEMORY</a>;</div>
<div class="line"><span class="lineno">  373</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (os.<a class="code hl_variable" href="structMyLzma_1_1OutStream.html#a8f7638cb39bd326e591520e467810f7e">overflow</a>) {</div>
<div class="line"><span class="lineno">  374</span>        assert(os.<a class="code hl_variable" href="structMyLzma_1_1OutStream.html#af68fa6fc286093d1ab9dace88433aaee">b_pos</a> == *dst_len);</div>
<div class="line"><span class="lineno">  375</span>        <span class="comment">// r = UPX_E_OUTPUT_OVERRUN;</span></div>
<div class="line"><span class="lineno">  376</span>        r = <a class="code hl_define" href="conf_8h.html#aa519fb3deba415781f90a8b8d83d2c97">UPX_E_NOT_COMPRESSIBLE</a>;</div>
<div class="line"><span class="lineno">  377</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rh == S_OK) {</div>
<div class="line"><span class="lineno">  378</span>        assert(is.<a class="code hl_variable" href="structMyLzma_1_1InStream.html#a87190dad935de0760119b960679d6926">b_pos</a> == src_len);</div>
<div class="line"><span class="lineno">  379</span>        r = <a class="code hl_define" href="conf_8h.html#a6633961dc2e4df53ee07eacffeb154d3">UPX_E_OK</a>;</div>
<div class="line"><span class="lineno">  380</span>    }</div>
<div class="line"><span class="lineno">  381</span> </div>
<div class="line"><span class="lineno">  382</span>error:</div>
<div class="line"><span class="lineno">  383</span>    *dst_len = (unsigned) os.<a class="code hl_variable" href="structMyLzma_1_1OutStream.html#af68fa6fc286093d1ab9dace88433aaee">b_pos</a>;</div>
<div class="line"><span class="lineno">  384</span>    <a class="code hl_function" href="conf_8h.html#af79eab1f480f5a57b6bfbff38256b0d2">NO_printf</a>(<span class="stringliteral">&quot;\nlzma_compress: %d: %u %u %u %u %u, %u - &gt; %u\n&quot;</span>, r, res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a468cd00bfa34f090bd23a6002f2bb652">pos_bits</a>,</div>
<div class="line"><span class="lineno">  385</span>              res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a4d5531147a88c0993ee52680894ab9c5">lit_pos_bits</a>, res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a70f24589bfca62644dfa26313141f55b">lit_context_bits</a>, res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a75a22a13627a0248686ae15e3e4e2448">dict_size</a>, res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a614c8fccf069e975f9cb30953f697070">num_probs</a>, src_len,</div>
<div class="line"><span class="lineno">  386</span>              *dst_len);</div>
<div class="line"><span class="lineno">  387</span>    <a class="code hl_function" href="conf_8h.html#af79eab1f480f5a57b6bfbff38256b0d2">NO_printf</a>(<span class="stringliteral">&quot;%u %u %u\n&quot;</span>, is.__m_RefCount, os.__m_RefCount, progress.__m_RefCount);</div>
<div class="line"><span class="lineno">  388</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno">  389</span>}</div>
<div class="ttc" id="acompress__lzma_8cpp_html_afb61bae04ad14e880bc46e7e292a46b1"><div class="ttname"><a href="compress__lzma_8cpp.html#afb61bae04ad14e880bc46e7e292a46b1">prepare_result</a></div><div class="ttdeci">static bool prepare_result(lzma_compress_result_t *res, unsigned src_len, int method, int level, const lzma_compress_config_t *lcconf)</div><div class="ttdoc">compress defaults</div><div class="ttdef"><b>Definition:</b> <a href="compress__lzma_8cpp_source.html#l00065">compress_lzma.cpp:65</a></div></div>
<div class="ttc" id="aconf_8h_html_a5ed704294f18dd341bdf589c31015734"><div class="ttname"><a href="conf_8h.html#a5ed704294f18dd341bdf589c31015734">M_IS_LZMA</a></div><div class="ttdeci">#define M_IS_LZMA(x)</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00614">conf.h:614</a></div></div>
<div class="ttc" id="aconf_8h_html_a6633961dc2e4df53ee07eacffeb154d3"><div class="ttname"><a href="conf_8h.html#a6633961dc2e4df53ee07eacffeb154d3">UPX_E_OK</a></div><div class="ttdeci">#define UPX_E_OK</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00513">conf.h:513</a></div></div>
<div class="ttc" id="aconf_8h_html_aa519fb3deba415781f90a8b8d83d2c97"><div class="ttname"><a href="conf_8h.html#aa519fb3deba415781f90a8b8d83d2c97">UPX_E_NOT_COMPRESSIBLE</a></div><div class="ttdeci">#define UPX_E_NOT_COMPRESSIBLE</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00516">conf.h:516</a></div></div>
<div class="ttc" id="aconf_8h_html_aea263323979fae4f4a5f22a12e5b8bac"><div class="ttname"><a href="conf_8h.html#aea263323979fae4f4a5f22a12e5b8bac">UPX_E_OUT_OF_MEMORY</a></div><div class="ttdeci">#define UPX_E_OUT_OF_MEMORY</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00515">conf.h:515</a></div></div>
<div class="ttc" id="aconf_8h_html_af24c56e2e801da4fde43566bf7eaa6a1"><div class="ttname"><a href="conf_8h.html#af24c56e2e801da4fde43566bf7eaa6a1">UPX_E_ERROR</a></div><div class="ttdeci">#define UPX_E_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00514">conf.h:514</a></div></div>
<div class="ttc" id="aminiacc_8h_html_a5493f82e9308a88af645a17b2502b134"><div class="ttname"><a href="miniacc_8h.html#a5493f82e9308a88af645a17b2502b134">ACC_PCAST</a></div><div class="ttdeci">#define ACC_PCAST(t, e)</div><div class="ttdef"><b>Definition:</b> <a href="miniacc_8h_source.html#l01535">miniacc.h:1535</a></div></div>
<div class="ttc" id="aminiacc_8h_html_acc34e3c6543c37dba5ac9ba535a5b93f"><div class="ttname"><a href="miniacc_8h.html#acc34e3c6543c37dba5ac9ba535a5b93f">ACC_UNCONST_CAST</a></div><div class="ttdeci">#define ACC_UNCONST_CAST(t, e)</div><div class="ttdef"><b>Definition:</b> <a href="miniacc_8h_source.html#l01491">miniacc.h:1491</a></div></div>
<div class="ttc" id="astructMyLzma_1_1InStream_html"><div class="ttname"><a href="structMyLzma_1_1InStream.html">MyLzma::InStream</a></div><div class="ttdef"><b>Definition:</b> <a href="compress__lzma_8cpp_source.html#l00198">compress_lzma.cpp:198</a></div></div>
<div class="ttc" id="astructMyLzma_1_1InStream_html_a7c6ed1b9b75290ea255ef978b3a9edb4"><div class="ttname"><a href="structMyLzma_1_1InStream.html#a7c6ed1b9b75290ea255ef978b3a9edb4">MyLzma::InStream::Init</a></div><div class="ttdeci">void Init(const Byte *data, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="compress__lzma_8cpp_source.html#l00204">compress_lzma.cpp:204</a></div></div>
<div class="ttc" id="astructMyLzma_1_1InStream_html_a87190dad935de0760119b960679d6926"><div class="ttname"><a href="structMyLzma_1_1InStream.html#a87190dad935de0760119b960679d6926">MyLzma::InStream::b_pos</a></div><div class="ttdeci">size_t b_pos</div><div class="ttdef"><b>Definition:</b> <a href="compress__lzma_8cpp_source.html#l00203">compress_lzma.cpp:203</a></div></div>
<div class="ttc" id="astructMyLzma_1_1OutStream_html"><div class="ttname"><a href="structMyLzma_1_1OutStream.html">MyLzma::OutStream</a></div><div class="ttdef"><b>Definition:</b> <a href="compress__lzma_8cpp_source.html#l00223">compress_lzma.cpp:223</a></div></div>
<div class="ttc" id="astructMyLzma_1_1OutStream_html_a8f7638cb39bd326e591520e467810f7e"><div class="ttname"><a href="structMyLzma_1_1OutStream.html#a8f7638cb39bd326e591520e467810f7e">MyLzma::OutStream::overflow</a></div><div class="ttdeci">bool overflow</div><div class="ttdef"><b>Definition:</b> <a href="compress__lzma_8cpp_source.html#l00229">compress_lzma.cpp:229</a></div></div>
<div class="ttc" id="astructMyLzma_1_1OutStream_html_abb339d269412fd411542bb473ce796e8"><div class="ttname"><a href="structMyLzma_1_1OutStream.html#abb339d269412fd411542bb473ce796e8">MyLzma::OutStream::WriteByte</a></div><div class="ttdeci">HRESULT WriteByte(Byte c)</div><div class="ttdef"><b>Definition:</b> <a href="compress__lzma_8cpp_source.html#l00236">compress_lzma.cpp:236</a></div></div>
<div class="ttc" id="astructMyLzma_1_1OutStream_html_af68fa6fc286093d1ab9dace88433aaee"><div class="ttname"><a href="structMyLzma_1_1OutStream.html#af68fa6fc286093d1ab9dace88433aaee">MyLzma::OutStream::b_pos</a></div><div class="ttdeci">size_t b_pos</div><div class="ttdef"><b>Definition:</b> <a href="compress__lzma_8cpp_source.html#l00228">compress_lzma.cpp:228</a></div></div>
<div class="ttc" id="astructMyLzma_1_1OutStream_html_af8b6165a39d4340349c5550f410fa89d"><div class="ttname"><a href="structMyLzma_1_1OutStream.html#af8b6165a39d4340349c5550f410fa89d">MyLzma::OutStream::Init</a></div><div class="ttdeci">void Init(Byte *data, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="compress__lzma_8cpp_source.html#l00230">compress_lzma.cpp:230</a></div></div>
<div class="ttc" id="astructMyLzma_1_1ProgressInfo_html"><div class="ttname"><a href="structMyLzma_1_1ProgressInfo.html">MyLzma::ProgressInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="compress__lzma_8cpp_source.html#l00258">compress_lzma.cpp:258</a></div></div>
<div class="ttc" id="astructMyLzma_1_1ProgressInfo_html_a97234bb50361878d824c77e0c416a0aa"><div class="ttname"><a href="structMyLzma_1_1ProgressInfo.html#a97234bb50361878d824c77e0c416a0aa">MyLzma::ProgressInfo::cb</a></div><div class="ttdeci">upx_callback_t * cb</div><div class="ttdef"><b>Definition:</b> <a href="compress__lzma_8cpp_source.html#l00262">compress_lzma.cpp:262</a></div></div>
<div class="ttc" id="astructlzma__compress__config__t_html"><div class="ttname"><a href="structlzma__compress__config__t.html">lzma_compress_config_t</a></div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00662">conf.h:662</a></div></div>
<div class="ttc" id="astructlzma__compress__result__t_html"><div class="ttname"><a href="structlzma__compress__result__t.html">lzma_compress_result_t</a></div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00732">conf.h:732</a></div></div>
<div class="ttc" id="astructlzma__compress__result__t_html_a462964e44129ade1d8e19da542d6bdbe"><div class="ttname"><a href="structlzma__compress__result__t.html#a462964e44129ade1d8e19da542d6bdbe">lzma_compress_result_t::reset</a></div><div class="ttdeci">void reset() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00742">conf.h:742</a></div></div>
<div class="ttc" id="astructupx__compress__config__t_html_aa67c16f6e1de8ccac04d07745a439e9e"><div class="ttname"><a href="structupx__compress__config__t.html#aa67c16f6e1de8ccac04d07745a439e9e">upx_compress_config_t::conf_lzma</a></div><div class="ttdeci">lzma_compress_config_t conf_lzma</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00706">conf.h:706</a></div></div>
<div class="ttc" id="astructupx__compress__result__t_html_a1c97146ceb5e55e9c9d00b7fea6f787d"><div class="ttname"><a href="structupx__compress__result__t.html#a1c97146ceb5e55e9c9d00b7fea6f787d">upx_compress_result_t::result_lzma</a></div><div class="ttdeci">lzma_compress_result_t result_lzma</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00773">conf.h:773</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="miniacc_8h.html#a5493f82e9308a88af645a17b2502b134">ACC_PCAST</a>, <a class="el" href="miniacc_8h.html#acc34e3c6543c37dba5ac9ba535a5b93f">ACC_UNCONST_CAST</a>, <a class="el" href="structMyLzma_1_1InStream.html#a87190dad935de0760119b960679d6926">MyLzma::InStream::b_pos</a>, <a class="el" href="structMyLzma_1_1OutStream.html#af68fa6fc286093d1ab9dace88433aaee">MyLzma::OutStream::b_pos</a>, <a class="el" href="structMyLzma_1_1ProgressInfo.html#a97234bb50361878d824c77e0c416a0aa">MyLzma::ProgressInfo::cb</a>, <a class="el" href="structupx__compress__config__t.html#aa67c16f6e1de8ccac04d07745a439e9e">upx_compress_config_t::conf_lzma</a>, <a class="el" href="structlzma__compress__result__t.html#a75a22a13627a0248686ae15e3e4e2448">lzma_compress_result_t::dict_size</a>, <a class="el" href="structlzma__compress__result__t.html#a45b17fdbdcd1ce83b7362836246aad26">lzma_compress_result_t::fast_mode</a>, <a class="el" href="structMyLzma_1_1OutStream.html#af8b6165a39d4340349c5550f410fa89d">MyLzma::OutStream::Init()</a>, <a class="el" href="structMyLzma_1_1InStream.html#a7c6ed1b9b75290ea255ef978b3a9edb4">MyLzma::InStream::Init()</a>, <a class="el" href="structlzma__compress__result__t.html#a70f24589bfca62644dfa26313141f55b">lzma_compress_result_t::lit_context_bits</a>, <a class="el" href="structlzma__compress__result__t.html#a4d5531147a88c0993ee52680894ab9c5">lzma_compress_result_t::lit_pos_bits</a>, <a class="el" href="conf_8h.html#a5ed704294f18dd341bdf589c31015734">M_IS_LZMA</a>, <a class="el" href="structlzma__compress__result__t.html#a7da9c499ab0bc759a4b63a7db04c0fc6">lzma_compress_result_t::match_finder_cycles</a>, <a class="el" href="conf_8h.html#af79eab1f480f5a57b6bfbff38256b0d2">NO_printf()</a>, <a class="el" href="structlzma__compress__result__t.html#a8c5e14bfef9ca791e50e98f00f7d2fe5">lzma_compress_result_t::num_fast_bytes</a>, <a class="el" href="structlzma__compress__result__t.html#a614c8fccf069e975f9cb30953f697070">lzma_compress_result_t::num_probs</a>, <a class="el" href="structMyLzma_1_1OutStream.html#a8f7638cb39bd326e591520e467810f7e">MyLzma::OutStream::overflow</a>, <a class="el" href="structlzma__compress__result__t.html#a468cd00bfa34f090bd23a6002f2bb652">lzma_compress_result_t::pos_bits</a>, <a class="el" href="compress__lzma_8cpp.html#afb61bae04ad14e880bc46e7e292a46b1">prepare_result()</a>, <a class="el" href="structlzma__compress__result__t.html#a462964e44129ade1d8e19da542d6bdbe">lzma_compress_result_t::reset()</a>, <a class="el" href="structupx__compress__result__t.html#a1c97146ceb5e55e9c9d00b7fea6f787d">upx_compress_result_t::result_lzma</a>, <a class="el" href="conf_8h.html#af24c56e2e801da4fde43566bf7eaa6a1">UPX_E_ERROR</a>, <a class="el" href="conf_8h.html#aa519fb3deba415781f90a8b8d83d2c97">UPX_E_NOT_COMPRESSIBLE</a>, <a class="el" href="conf_8h.html#a6633961dc2e4df53ee07eacffeb154d3">UPX_E_OK</a>, <a class="el" href="conf_8h.html#aea263323979fae4f4a5f22a12e5b8bac">UPX_E_OUT_OF_MEMORY</a>, and <a class="el" href="structMyLzma_1_1OutStream.html#abb339d269412fd411542bb473ce796e8">MyLzma::OutStream::WriteByte()</a>.</p>

<p class="reference">Referenced by <a class="el" href="compress_8cpp.html#a503ce434d639fefff3eee167b8bc5b64">upx_compress()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="compress__lzma_8cpp_a16968f66ecd1f6e7a199462fc20b5b9c_cgraph.png" border="0" usemap="#acompress__lzma_8cpp_a16968f66ecd1f6e7a199462fc20b5b9c_cgraph" alt=""/></div>
<map name="acompress__lzma_8cpp_a16968f66ecd1f6e7a199462fc20b5b9c_cgraph" id="acompress__lzma_8cpp_a16968f66ecd1f6e7a199462fc20b5b9c_cgraph">
<area shape="rect" title=" " alt="" coords="5,168,160,193"/>
<area shape="rect" href="structMyLzma_1_1OutStream.html#af8b6165a39d4340349c5550f410fa89d" title=" " alt="" coords="208,37,392,62"/>
<area shape="rect" href="structMyLzma_1_1InStream.html#a7c6ed1b9b75290ea255ef978b3a9edb4" title=" " alt="" coords="213,88,387,113"/>
<area shape="rect" href="conf_8h.html#af79eab1f480f5a57b6bfbff38256b0d2" title=" " alt="" coords="493,138,577,164"/>
<area shape="rect" href="compress__lzma_8cpp.html#afb61bae04ad14e880bc46e7e292a46b1" title="compress defaults" alt="" coords="242,196,358,221"/>
<area shape="rect" href="structlzma__compress__result__t.html#a462964e44129ade1d8e19da542d6bdbe" title=" " alt="" coords="216,246,384,286"/>
<area shape="rect" href="structMyLzma_1_1OutStream.html#abb339d269412fd411542bb473ce796e8" title=" " alt="" coords="219,310,381,350"/>
<area shape="rect" href="xspan__impl__common_8h.html#aa01d1905341de7c0c8127de31a24cb3a" title=" " alt="" coords="509,37,560,62"/>
<area shape="rect" href="xspan__impl__common_8h.html#a60304b65bf89363bcc3165d3cde67f86" title=" " alt="" coords="691,88,739,113"/>
<area shape="rect" href="xspan__impl__common_8h.html#af7f8ff1beaa5a2bfec38929faa15a546" title=" " alt="" coords="801,88,892,113"/>
<area shape="rect" href="xspan__impl__common_8h.html#adc002fafd98360e97e7066a463592829" title=" " alt="" coords="940,88,1067,113"/>
<area shape="rect" href="structupx_1_1OptVar.html#a281511b3f5d732c4fca2e3e28fa6ea45" title=" " alt="" coords="440,188,629,228"/>
<area shape="rect" href="namespaceupx.html#a223ed38dcb8092b15a7d0b0fedfa1c3b" title=" " alt="" coords="483,253,587,278"/>
<area shape="rect" href="conf_8h.html#a4a6644005b7261400c85ba022c8195c0" title=" " alt="" coords="487,302,582,328"/>
<area shape="rect" href="xspan__fwd_8h.html#a4ffffab0dc6ead4a09af1dba0b85f71c" title=" " alt="" coords="677,302,753,328"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="compress__lzma_8cpp_a16968f66ecd1f6e7a199462fc20b5b9c_icgraph.png" border="0" usemap="#acompress__lzma_8cpp_a16968f66ecd1f6e7a199462fc20b5b9c_icgraph" alt=""/></div>
<map name="acompress__lzma_8cpp_a16968f66ecd1f6e7a199462fc20b5b9c_icgraph" id="acompress__lzma_8cpp_a16968f66ecd1f6e7a199462fc20b5b9c_icgraph">
<area shape="rect" title=" " alt="" coords="1153,874,1308,899"/>
<area shape="rect" href="compress_8cpp.html#a503ce434d639fefff3eee167b8bc5b64" title=" " alt="" coords="989,874,1105,899"/>
<area shape="rect" href="classPackLinuxElf32.html#a2de3b0ba7a17f5de7f5a62f5df6a0bb3" title=" " alt="" coords="725,293,919,333"/>
<area shape="rect" href="classPackLinuxElf64.html#acf98749f15000ddd7c39f330ec145341" title=" " alt="" coords="725,661,919,701"/>
<area shape="rect" href="classPackExe.html#a5537bbb621abd219b4de222eb25e4f15" title=" " alt="" coords="743,726,901,751"/>
<area shape="rect" href="classPackPs1.html#a6e98ea6d20b1d546d0541e1f3dce818a" title=" " alt="" coords="743,825,901,850"/>
<area shape="rect" href="classPackMachBase.html#a300e8e2dca80a3d6cc69e39a477b4726" title=" " alt="" coords="703,874,941,899"/>
<area shape="rect" href="classPacker.html#add5cc1c8eff3bbc8aaf7ec0cf03cb82e" title="compress &#45; wrap call to low&#45;level upx_compress()" alt="" coords="755,1026,889,1051"/>
<area shape="rect" href="classPacker.html#a6c29dbab3c13461ccccdf08ba3b6cde2" title=" " alt="" coords="442,1005,647,1030"/>
<area shape="rect" href="classPackUnix.html#ad3f398fa4a3b34fd79f441e3069f78b1" title=" " alt="" coords="463,1054,626,1079"/>
<area shape="rect" href="classPackVmlinuxBase.html#a3ab914eaf3facd8f2b5e61079dce6362" title=" " alt="" coords="733,1127,911,1153"/>
<area shape="rect" href="classPackLinuxElf.html#a5384daf1baa189915edd8bbb8821ee88" title=" " alt="" coords="451,917,638,957"/>
<area shape="rect" href="classPackPs1.html#a857d87b9897be5b39673319cbf8cf551" title=" " alt="" coords="731,775,913,801"/>
<area shape="rect" href="classPackLinuxElf32ppc.html#a837a4d1bf96e44b0ecd11e7150c5565b" title=" " alt="" coords="469,389,620,429"/>
<area shape="rect" href="classPackLinuxElf32x86.html#a69d1831a5732ba82bc6a21e187003b81" title=" " alt="" coords="469,453,621,493"/>
<area shape="rect" href="classPackBSDElf32x86.html#a28fe533055d17e4e4570bc890dd802b4" title=" " alt="" coords="435,518,655,543"/>
<area shape="rect" href="classPackLinuxElf32armLe.html#abf40ab0b8e777d22c12eebf77a8dde2a" title=" " alt="" coords="464,5,625,45"/>
<area shape="rect" href="classPackLinuxElf32armBe.html#a4eaf1a02af96f64941c82e06aff51237" title=" " alt="" coords="463,69,626,109"/>
<area shape="rect" href="classPackLinuxElf32mipseb.html#af1b1d619d6cf7810897aa82c57a7638d" title=" " alt="" coords="461,133,629,173"/>
<area shape="rect" href="classPackLinuxElf32mipsel.html#abb9c15cc5a974ec3554d78bfc7999b09" title=" " alt="" coords="463,197,627,237"/>
<area shape="rect" href="classPackNetBSDElf32x86.html#a52476626884e67e577a2e37a8a934634" title=" " alt="" coords="465,261,624,301"/>
<area shape="rect" href="classPackOpenBSDElf32x86.html#a814d4f91e539a066454d1d2f360d5b79" title=" " alt="" coords="459,325,630,365"/>
<area shape="rect" href="classPackLinuxElf64amd.html#a4e925c41e1f85114a34b4fec6a0bfc18" title=" " alt="" coords="466,760,623,800"/>
<area shape="rect" href="classPackLinuxElf64arm.html#a433b6323d27480148574ea89b6ee3634" title=" " alt="" coords="467,568,622,608"/>
<area shape="rect" href="classPackLinuxElf64ppcle.html#adeb403f68ec4aeb636a5ecf2ce9039f1" title=" " alt="" coords="467,632,622,672"/>
<area shape="rect" href="classPackLinuxElf64ppc.html#ad2998d239264bc145084afbd56fec5b7" title=" " alt="" coords="469,696,620,736"/>
<area shape="rect" href="classPackPs1.html#a542fd798443fb299c1d95ee98db5ae53" title=" " alt="" coords="487,825,602,850"/>
<area shape="rect" href="classPackLinuxElf32.html#a475c24cd3f9652ad82ea69cdf377aca5" title=" " alt="" coords="5,943,172,969"/>
<area shape="rect" href="classPackLinuxElf64.html#ae4c3d3d66cd14ea19fc44d0f90274092" title=" " alt="" coords="5,1018,172,1043"/>
<area shape="rect" href="classPackLinuxElf32.html#a200cba9c5eb9ae89197ba6d08df32ba5" title=" " alt="" coords="220,875,387,915"/>
<area shape="rect" href="classPackLinuxElf64.html#a72eb546964b4b777ec38c3da1972eeb8" title=" " alt="" coords="220,939,387,979"/>
<area shape="rect" href="classPackLinuxElf32.html#aaea43508f7513692cf3da5e91677c52c" title=" " alt="" coords="220,1155,387,1181"/>
<area shape="rect" href="classPackLinuxElf64.html#a34abb7fc5a62a52800339d603f78f562" title=" " alt="" coords="220,1054,387,1079"/>
</map>
</div>

</div>
</div>
<a id="ad12afac747a98291be2b479b198ac11f" name="ad12afac747a98291be2b479b198ac11f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad12afac747a98291be2b479b198ac11f">&#9670;&#160;</a></span>upx_lzma_decompress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int upx_lzma_decompress </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a>&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>src_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a>&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>dst_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structupx__compress__result__t.html">upx_compress_result_t</a> *&#160;</td>
          <td class="paramname"><em>cresult</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>decompress </p>

<p class="definition">Definition at line <a class="el" href="compress__lzma_8cpp_source.html#l00402">402</a> of file <a class="el" href="compress__lzma_8cpp_source.html">compress_lzma.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  403</span>                                                                          {</div>
<div class="line"><span class="lineno">  404</span>    assert(<a class="code hl_define" href="conf_8h.html#a5ed704294f18dd341bdf589c31015734">M_IS_LZMA</a>(method));</div>
<div class="line"><span class="lineno">  405</span>    <span class="comment">// see res-&gt;num_probs above</span></div>
<div class="line"><span class="lineno">  406</span>    <a class="code hl_define" href="conf_8h.html#a92f0ba69c0f889de4efac3dea2b0cc8a">COMPILE_TIME_ASSERT</a>(<span class="keyword">sizeof</span>(CProb) == 2)</div>
<div class="line"><span class="lineno">  407</span>    <a class="code hl_define" href="conf_8h.html#a92f0ba69c0f889de4efac3dea2b0cc8a">COMPILE_TIME_ASSERT</a>(LZMA_BASE_SIZE == 1846)</div>
<div class="line"><span class="lineno">  408</span>    <a class="code hl_define" href="conf_8h.html#a92f0ba69c0f889de4efac3dea2b0cc8a">COMPILE_TIME_ASSERT</a>(LZMA_LIT_SIZE == 768)</div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>    CLzmaDecoderState s;</div>
<div class="line"><span class="lineno">  411</span>    <a class="code hl_function" href="conf_8h.html#a4a6644005b7261400c85ba022c8195c0">mem_clear</a>(&amp;s);</div>
<div class="line"><span class="lineno">  412</span>    SizeT src_out = 0, dst_out = 0;</div>
<div class="line"><span class="lineno">  413</span>    <span class="keywordtype">int</span> r = <a class="code hl_define" href="conf_8h.html#af24c56e2e801da4fde43566bf7eaa6a1">UPX_E_ERROR</a>;</div>
<div class="line"><span class="lineno">  414</span>    <span class="keywordtype">int</span> rh;</div>
<div class="line"><span class="lineno">  415</span> </div>
<div class="line"><span class="lineno">  416</span>    <span class="comment">// decode UPX-style properties (2 bytes)</span></div>
<div class="line"><span class="lineno">  417</span>    if (src_len &lt; 3) {</div>
<div class="line"><span class="lineno">  418</span>        r = <a class="code hl_define" href="conf_8h.html#a420f5f25b07705168394d0c47ffa1af5">UPX_E_INPUT_OVERRUN</a>;</div>
<div class="line"><span class="lineno">  419</span>        <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  420</span>    }</div>
<div class="line"><span class="lineno">  421</span>    s.Properties.pb = src[0] &amp; 7;</div>
<div class="line"><span class="lineno">  422</span>    s.Properties.lp = (src[1] &gt;&gt; 4);</div>
<div class="line"><span class="lineno">  423</span>    s.Properties.lc = src[1] &amp; 15;</div>
<div class="line"><span class="lineno">  424</span>    <span class="keywordflow">if</span> (s.Properties.pb &gt;= 5)</div>
<div class="line"><span class="lineno">  425</span>        <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  426</span>    <span class="keywordflow">if</span> (s.Properties.lp &gt;= 5)</div>
<div class="line"><span class="lineno">  427</span>        <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  428</span>    <span class="keywordflow">if</span> (s.Properties.lc &gt;= 9)</div>
<div class="line"><span class="lineno">  429</span>        <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  430</span>    <span class="comment">// UPX extra stuff in first byte: 5 high bits convenience for stub decompressor</span></div>
<div class="line"><span class="lineno">  431</span>    <span class="keywordflow">if</span> ((src[0] &gt;&gt; 3) != s.Properties.lc + s.Properties.lp)</div>
<div class="line"><span class="lineno">  432</span>        <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  433</span>    src += 2;</div>
<div class="line"><span class="lineno">  434</span>    src_len -= 2;</div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span>    <span class="keywordflow">if</span> (cresult) {</div>
<div class="line"><span class="lineno">  437</span>        assert(cresult-&gt;<a class="code hl_variable" href="structupx__compress__result__t.html#ae90f45220cfbc0dc560c71252cdadbc6">debug</a>.<a class="code hl_variable" href="structupx__compress__result__t_1_1Debug.html#a130b9847bd1976c7d148251b8a274631">method</a> == method);</div>
<div class="line"><span class="lineno">  438</span>        assert(cresult-&gt;<a class="code hl_variable" href="structupx__compress__result__t.html#a1c97146ceb5e55e9c9d00b7fea6f787d">result_lzma</a>.<a class="code hl_variable" href="structlzma__compress__result__t.html#a468cd00bfa34f090bd23a6002f2bb652">pos_bits</a> == (<span class="keywordtype">unsigned</span>) s.Properties.pb);</div>
<div class="line"><span class="lineno">  439</span>        assert(cresult-&gt;<a class="code hl_variable" href="structupx__compress__result__t.html#a1c97146ceb5e55e9c9d00b7fea6f787d">result_lzma</a>.<a class="code hl_variable" href="structlzma__compress__result__t.html#a4d5531147a88c0993ee52680894ab9c5">lit_pos_bits</a> == (<span class="keywordtype">unsigned</span>) s.Properties.lp);</div>
<div class="line"><span class="lineno">  440</span>        assert(cresult-&gt;<a class="code hl_variable" href="structupx__compress__result__t.html#a1c97146ceb5e55e9c9d00b7fea6f787d">result_lzma</a>.<a class="code hl_variable" href="structlzma__compress__result__t.html#a70f24589bfca62644dfa26313141f55b">lit_context_bits</a> == (<span class="keywordtype">unsigned</span>) s.Properties.lc);</div>
<div class="line"><span class="lineno">  441</span>        assert(cresult-&gt;<a class="code hl_variable" href="structupx__compress__result__t.html#a1c97146ceb5e55e9c9d00b7fea6f787d">result_lzma</a>.<a class="code hl_variable" href="structlzma__compress__result__t.html#a614c8fccf069e975f9cb30953f697070">num_probs</a> == (<span class="keywordtype">unsigned</span>) LzmaGetNumProbs(&amp;s.Properties));</div>
<div class="line"><span class="lineno">  442</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structlzma__compress__result__t.html">lzma_compress_result_t</a> *res = &amp;cresult-&gt;<a class="code hl_variable" href="structupx__compress__result__t.html#a1c97146ceb5e55e9c9d00b7fea6f787d">result_lzma</a>;</div>
<div class="line"><span class="lineno">  443</span>        <a class="code hl_function" href="conf_8h.html#af79eab1f480f5a57b6bfbff38256b0d2">NO_printf</a>(<span class="stringliteral">&quot;\nlzma_decompress config: %u %u %u %u %u\n&quot;</span>, res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a468cd00bfa34f090bd23a6002f2bb652">pos_bits</a>, res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a4d5531147a88c0993ee52680894ab9c5">lit_pos_bits</a>,</div>
<div class="line"><span class="lineno">  444</span>                  res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a70f24589bfca62644dfa26313141f55b">lit_context_bits</a>, res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a75a22a13627a0248686ae15e3e4e2448">dict_size</a>, res-&gt;<a class="code hl_variable" href="structlzma__compress__result__t.html#a614c8fccf069e975f9cb30953f697070">num_probs</a>);</div>
<div class="line"><span class="lineno">  445</span>        <a class="code hl_define" href="conf_8h.html#a5f64c424fc4e04a8b3afd79a1e245625">UNUSED</a>(res);</div>
<div class="line"><span class="lineno">  446</span>    }</div>
<div class="line"><span class="lineno">  447</span>    s.Probs = (CProb *) malloc(<span class="keyword">sizeof</span>(CProb) * LzmaGetNumProbs(&amp;s.Properties));</div>
<div class="line"><span class="lineno">  448</span>    <span class="keywordflow">if</span> (!s.Probs) {</div>
<div class="line"><span class="lineno">  449</span>        r = <a class="code hl_define" href="conf_8h.html#aea263323979fae4f4a5f22a12e5b8bac">UPX_E_OUT_OF_MEMORY</a>;</div>
<div class="line"><span class="lineno">  450</span>        <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  451</span>    }</div>
<div class="line"><span class="lineno">  452</span>    rh = LzmaDecode(&amp;s, src, src_len, &amp;src_out, dst, *dst_len, &amp;dst_out);</div>
<div class="line"><span class="lineno">  453</span>    assert(src_out &lt;= src_len);</div>
<div class="line"><span class="lineno">  454</span>    assert(dst_out &lt;= *dst_len);</div>
<div class="line"><span class="lineno">  455</span>    <span class="keywordflow">if</span> (rh == 0) {</div>
<div class="line"><span class="lineno">  456</span>        r = <a class="code hl_define" href="conf_8h.html#a6633961dc2e4df53ee07eacffeb154d3">UPX_E_OK</a>;</div>
<div class="line"><span class="lineno">  457</span>        <span class="keywordflow">if</span> (src_out != src_len)</div>
<div class="line"><span class="lineno">  458</span>            r = <a class="code hl_define" href="conf_8h.html#a2d6d6a83a33197adfcf51755f1d11296">UPX_E_INPUT_NOT_CONSUMED</a>;</div>
<div class="line"><span class="lineno">  459</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rh == LZMA_RESULT_INPUT_OVERRUN)</div>
<div class="line"><span class="lineno">  460</span>        r = <a class="code hl_define" href="conf_8h.html#a420f5f25b07705168394d0c47ffa1af5">UPX_E_INPUT_OVERRUN</a>;</div>
<div class="line"><span class="lineno">  461</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rh == LZMA_RESULT_OUTPUT_OVERRUN)</div>
<div class="line"><span class="lineno">  462</span>        r = <a class="code hl_define" href="conf_8h.html#ad58c7267bdff76d323503b79010d372a">UPX_E_OUTPUT_OVERRUN</a>;</div>
<div class="line"><span class="lineno">  463</span> </div>
<div class="line"><span class="lineno">  464</span>error:</div>
<div class="line"><span class="lineno">  465</span>    *dst_len = dst_out;</div>
<div class="line"><span class="lineno">  466</span>    free(s.Probs);</div>
<div class="line"><span class="lineno">  467</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno">  468</span>}</div>
<div class="ttc" id="aconf_8h_html_a2d6d6a83a33197adfcf51755f1d11296"><div class="ttname"><a href="conf_8h.html#a2d6d6a83a33197adfcf51755f1d11296">UPX_E_INPUT_NOT_CONSUMED</a></div><div class="ttdeci">#define UPX_E_INPUT_NOT_CONSUMED</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00521">conf.h:521</a></div></div>
<div class="ttc" id="aconf_8h_html_a4a6644005b7261400c85ba022c8195c0"><div class="ttname"><a href="conf_8h.html#a4a6644005b7261400c85ba022c8195c0">mem_clear</a></div><div class="ttdeci">void mem_clear(T *object) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00437">conf.h:437</a></div></div>
<div class="ttc" id="aconf_8h_html_a92f0ba69c0f889de4efac3dea2b0cc8a"><div class="ttname"><a href="conf_8h.html#a92f0ba69c0f889de4efac3dea2b0cc8a">COMPILE_TIME_ASSERT</a></div><div class="ttdeci">#define COMPILE_TIME_ASSERT(e)</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00237">conf.h:237</a></div></div>
<div class="ttc" id="astructupx__compress__result__t_1_1Debug_html_a130b9847bd1976c7d148251b8a274631"><div class="ttname"><a href="structupx__compress__result__t_1_1Debug.html#a130b9847bd1976c7d148251b8a274631">upx_compress_result_t::Debug::method</a></div><div class="ttdeci">int method</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00766">conf.h:766</a></div></div>
<div class="ttc" id="astructupx__compress__result__t_html_ae90f45220cfbc0dc560c71252cdadbc6"><div class="ttname"><a href="structupx__compress__result__t.html#ae90f45220cfbc0dc560c71252cdadbc6">upx_compress_result_t::debug</a></div><div class="ttdeci">Debug debug</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00770">conf.h:770</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="conf_8h.html#a92f0ba69c0f889de4efac3dea2b0cc8a">COMPILE_TIME_ASSERT</a>, <a class="el" href="structupx__compress__result__t.html#ae90f45220cfbc0dc560c71252cdadbc6">upx_compress_result_t::debug</a>, <a class="el" href="structlzma__compress__result__t.html#a75a22a13627a0248686ae15e3e4e2448">lzma_compress_result_t::dict_size</a>, <a class="el" href="structlzma__compress__result__t.html#a70f24589bfca62644dfa26313141f55b">lzma_compress_result_t::lit_context_bits</a>, <a class="el" href="structlzma__compress__result__t.html#a4d5531147a88c0993ee52680894ab9c5">lzma_compress_result_t::lit_pos_bits</a>, <a class="el" href="conf_8h.html#a5ed704294f18dd341bdf589c31015734">M_IS_LZMA</a>, <a class="el" href="conf_8h.html#a4a6644005b7261400c85ba022c8195c0">mem_clear()</a>, <a class="el" href="structupx__compress__result__t_1_1Debug.html#a130b9847bd1976c7d148251b8a274631">upx_compress_result_t::Debug::method</a>, <a class="el" href="conf_8h.html#af79eab1f480f5a57b6bfbff38256b0d2">NO_printf()</a>, <a class="el" href="structlzma__compress__result__t.html#a614c8fccf069e975f9cb30953f697070">lzma_compress_result_t::num_probs</a>, <a class="el" href="structlzma__compress__result__t.html#a468cd00bfa34f090bd23a6002f2bb652">lzma_compress_result_t::pos_bits</a>, <a class="el" href="structupx__compress__result__t.html#a1c97146ceb5e55e9c9d00b7fea6f787d">upx_compress_result_t::result_lzma</a>, <a class="el" href="conf_8h.html#a5f64c424fc4e04a8b3afd79a1e245625">UNUSED</a>, <a class="el" href="conf_8h.html#af24c56e2e801da4fde43566bf7eaa6a1">UPX_E_ERROR</a>, <a class="el" href="conf_8h.html#a2d6d6a83a33197adfcf51755f1d11296">UPX_E_INPUT_NOT_CONSUMED</a>, <a class="el" href="conf_8h.html#a420f5f25b07705168394d0c47ffa1af5">UPX_E_INPUT_OVERRUN</a>, <a class="el" href="conf_8h.html#a6633961dc2e4df53ee07eacffeb154d3">UPX_E_OK</a>, <a class="el" href="conf_8h.html#aea263323979fae4f4a5f22a12e5b8bac">UPX_E_OUT_OF_MEMORY</a>, and <a class="el" href="conf_8h.html#ad58c7267bdff76d323503b79010d372a">UPX_E_OUTPUT_OVERRUN</a>.</p>

<p class="reference">Referenced by <a class="el" href="compress__lzma_8cpp.html#ae11b24a715b64b66400f470c9e1eca19">TEST_CASE()</a>, <a class="el" href="compress_8cpp.html#a52ddb3dd5259110493d2eb2202bfbb50">upx_decompress()</a>, and <a class="el" href="compress__lzma_8cpp.html#a3a0885ac5b6affea5d4501ee829bc0b6">upx_lzma_test_overlap()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="compress__lzma_8cpp_ad12afac747a98291be2b479b198ac11f_cgraph.png" border="0" usemap="#acompress__lzma_8cpp_ad12afac747a98291be2b479b198ac11f_cgraph" alt=""/></div>
<map name="acompress__lzma_8cpp_ad12afac747a98291be2b479b198ac11f_cgraph" id="acompress__lzma_8cpp_ad12afac747a98291be2b479b198ac11f_cgraph">
<area shape="rect" title="decompress" alt="" coords="5,79,176,104"/>
<area shape="rect" href="conf_8h.html#a4a6644005b7261400c85ba022c8195c0" title=" " alt="" coords="224,53,319,79"/>
<area shape="rect" href="conf_8h.html#af79eab1f480f5a57b6bfbff38256b0d2" title=" " alt="" coords="229,103,313,128"/>
<area shape="rect" href="xspan__fwd_8h.html#a4ffffab0dc6ead4a09af1dba0b85f71c" title=" " alt="" coords="367,29,443,55"/>
<area shape="rect" href="xspan__impl__common_8h.html#a60304b65bf89363bcc3165d3cde67f86" title=" " alt="" coords="381,79,429,104"/>
<area shape="rect" href="xspan__impl__common_8h.html#af7f8ff1beaa5a2bfec38929faa15a546" title=" " alt="" coords="491,79,581,104"/>
<area shape="rect" href="xspan__impl__common_8h.html#adc002fafd98360e97e7066a463592829" title=" " alt="" coords="629,79,756,104"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="compress__lzma_8cpp_ad12afac747a98291be2b479b198ac11f_icgraph.png" border="0" usemap="#acompress__lzma_8cpp_ad12afac747a98291be2b479b198ac11f_icgraph" alt=""/></div>
<map name="acompress__lzma_8cpp_ad12afac747a98291be2b479b198ac11f_icgraph" id="acompress__lzma_8cpp_ad12afac747a98291be2b479b198ac11f_icgraph">
<area shape="rect" title="decompress" alt="" coords="1756,332,1927,357"/>
<area shape="rect" href="compress__lzma_8cpp.html#ae11b24a715b64b66400f470c9e1eca19" title="doctest checks" alt="" coords="1574,282,1669,308"/>
<area shape="rect" href="compress_8cpp.html#a52ddb3dd5259110493d2eb2202bfbb50" title=" " alt="" coords="1555,405,1687,430"/>
<area shape="rect" href="compress__lzma_8cpp.html#a3a0885ac5b6affea5d4501ee829bc0b6" title="test_overlap &#45; see &lt;ucl/ucl.h&gt; for semantics" alt="" coords="1535,332,1708,357"/>
<area shape="rect" href="classPacker.html#add5cc1c8eff3bbc8aaf7ec0cf03cb82e" title="compress &#45; wrap call to low&#45;level upx_compress()" alt="" coords="1328,293,1463,318"/>
<area shape="rect" href="classPackPs1.html#a2380a408027fcec81e2597084e358ed2" title=" " alt="" coords="1304,628,1487,653"/>
<area shape="rect" href="classElfLinker.html#a350296174b0dfc7db17018b7705a2be0" title=" " alt="" coords="1342,454,1449,480"/>
<area shape="rect" href="packhead_8cpp.html#a9bc7fbed8b0117cf25aae706dff178cb" title="ph decompress util" alt="" coords="1333,405,1457,430"/>
<area shape="rect" href="classPacker.html#a6c29dbab3c13461ccccdf08ba3b6cde2" title=" " alt="" coords="1028,293,1233,318"/>
<area shape="rect" href="classPackUnix.html#ad3f398fa4a3b34fd79f441e3069f78b1" title=" " alt="" coords="456,125,619,150"/>
<area shape="rect" href="classPackLinuxElf32.html#a475c24cd3f9652ad82ea69cdf377aca5" title=" " alt="" coords="5,229,172,254"/>
<area shape="rect" href="classPackLinuxElf64.html#ae4c3d3d66cd14ea19fc44d0f90274092" title=" " alt="" coords="5,16,172,41"/>
<area shape="rect" href="classPackLinuxElf32.html#a200cba9c5eb9ae89197ba6d08df32ba5" title=" " alt="" coords="224,251,391,291"/>
<area shape="rect" href="classPackLinuxElf64.html#a72eb546964b4b777ec38c3da1972eeb8" title=" " alt="" coords="224,36,391,76"/>
<area shape="rect" href="classPackLinuxElf32.html#aaea43508f7513692cf3da5e91677c52c" title=" " alt="" coords="224,101,391,126"/>
<area shape="rect" href="classPackLinuxElf64.html#a34abb7fc5a62a52800339d603f78f562" title=" " alt="" coords="224,150,391,176"/>
<area shape="rect" href="classPackPs1.html#ad056284cbfe5d768f252c9e71c5f372b" title=" " alt="" coords="1035,893,1226,918"/>
<area shape="rect" href="classPackPs1.html#a5597d0e5f795a8c0d81b637478599a99" title=" " alt="" coords="741,1214,896,1240"/>
<area shape="rect" href="classPacker.html#ab53d9fc8308aa5467d38425ad3673b29" title="decompress" alt="" coords="1055,524,1206,549"/>
<area shape="rect" href="classPackWcle.html#a415ee4ae631c2086c9ccb112cd80d0a5" title=" " alt="" coords="729,778,909,804"/>
<area shape="rect" href="classPackCom.html#a59519621428829ae241f0d0609e6da8c" title=" " alt="" coords="750,524,887,549"/>
<area shape="rect" href="classPackDjgpp2.html#a48df49a5deb39fa19fd0bd00e68f3b26" title=" " alt="" coords="742,573,895,598"/>
<area shape="rect" href="classPackExe.html#a08a7901ec2ea27c6c446f4ff02b24be4" title=" " alt="" coords="753,622,884,648"/>
<area shape="rect" href="classPackLinuxElf32.html#a09edcb8bd331405f99b25b09d37f5040" title="Generic Unix unpack()." alt="" coords="220,1113,395,1138"/>
<area shape="rect" href="classPackLinuxElf64.html#a4b789474661dc2f8e40182aae29ee479" title="Generic Unix unpack()." alt="" coords="220,934,395,960"/>
<area shape="rect" href="classPackLinuxElf32x86interp.html#a977fd6c88fdd7d1176701c170ceb031b" title="Generic Unix unpack()." alt="" coords="446,870,629,910"/>
<area shape="rect" href="classPackPs1.html#ac40da8aff7f53a0f3374de8682bcc079" title=" " alt="" coords="753,984,884,1009"/>
<area shape="rect" href="classPackTmt.html#a7f8a990a65f25123fed345edfb720143" title=" " alt="" coords="752,176,885,201"/>
<area shape="rect" href="classPackTos.html#a3fb61f6f3b1963184356bace25ff9653" title=" " alt="" coords="755,225,883,250"/>
<area shape="rect" href="classPackUnix.html#a62fec1407c3b1d45bd049df4b9f5e6f7" title="Generic Unix unpack()." alt="" coords="750,274,887,300"/>
<area shape="rect" href="classPackVmlinuzI386.html#a34e472494934dc78b2259c1eea5540b3" title=" " alt="" coords="725,376,913,401"/>
<area shape="rect" href="classPackVmlinuzARMEL.html#a0684d8ea945cd7da49d5e47840890afd" title=" " alt="" coords="716,425,921,450"/>
<area shape="rect" href="classPeFile.html#aa8d033dfaeb206c4235410f24b083df5" title=" " alt="" coords="757,474,881,500"/>
<area shape="rect" href="classPackUnix.html#ab16d64e1b95f1dcf5f128665b83660f6" title=" " alt="" coords="729,934,908,960"/>
<area shape="rect" href="classPacker.html#a98836d189865b8496d759334c6257608" title=" " alt="" coords="725,672,913,712"/>
<area shape="rect" href="classPackWcle.html#ade3c0c0f183f9042bba43ee238b8fe88" title=" " alt="" coords="468,820,607,845"/>
<area shape="rect" href="classPackLinuxElf32.html#a6a054376b40ab2dc536ce43302d2c989" title=" " alt="" coords="465,1048,609,1088"/>
<area shape="rect" href="classPackLinuxElf64.html#ad2c315a3286632db9c874ca7a65bb69d" title=" " alt="" coords="465,984,609,1024"/>
<area shape="rect" href="classPackCom.html#adc7a9a6defe3c0b8cbbc7b59308c0386" title=" " alt="" coords="477,721,598,746"/>
<area shape="rect" href="classPackDjgpp2.html#a6661b704a15b800a620d9a243287da7d" title=" " alt="" coords="469,770,606,796"/>
<area shape="rect" href="classPackExe.html#a70d7991b106a12849023eea434a57550" title=" " alt="" coords="480,376,595,401"/>
<area shape="rect" href="classPackPs1.html#a542fd798443fb299c1d95ee98db5ae53" title=" " alt="" coords="480,425,595,450"/>
<area shape="rect" href="classPackTmt.html#a9847e2567fdbb210ec015dbaf4102374" title=" " alt="" coords="479,474,596,500"/>
<area shape="rect" href="classPackTos.html#af18b9115b58fa31b79ff565047a5a31f" title=" " alt="" coords="481,524,593,549"/>
<area shape="rect" href="classPackVmlinuzI386.html#a4b88c19ade54ecf025a63781af758006" title=" " alt="" coords="451,573,623,598"/>
<area shape="rect" href="classPackBvmlinuzI386.html#ad8a8694021c49c9e7372c6dbf8b3cef1" title=" " alt="" coords="447,622,627,648"/>
<area shape="rect" href="classPackVmlinuzARMEL.html#aab822afc164843cd6f22686fdca9dd1a" title=" " alt="" coords="443,672,632,697"/>
<area shape="rect" href="compress_8cpp.html#a4b7988cc522924c80aec0432c9d91c58" title=" " alt="" coords="1328,218,1463,244"/>
<area shape="rect" href="packhead_8cpp.html#a311bc88e5d305419a8cc12348b300217" title="ph overlapping decompression util" alt="" coords="1005,74,1256,100"/>
<area shape="rect" href="classPacker.html#ae0b134c6d419c733cb3283f4403a6f78" title="overlapping decompression" alt="" coords="680,74,957,100"/>
</map>
</div>

</div>
</div>
<a id="a9baf6c8471baa28fa1671482133d59b8" name="a9baf6c8471baa28fa1671482133d59b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9baf6c8471baa28fa1671482133d59b8">&#9670;&#160;</a></span>upx_lzma_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int upx_lzma_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>misc </p>

<p class="definition">Definition at line <a class="el" href="compress__lzma_8cpp_source.html#l00500">500</a> of file <a class="el" href="compress__lzma_8cpp_source.html">compress_lzma.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  500</span>{ <span class="keywordflow">return</span> 0; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="conf_8h.html#ae733ccfc8b1bfd23af63d56f51903f1d">upx_main()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="compress__lzma_8cpp_a9baf6c8471baa28fa1671482133d59b8_icgraph.png" border="0" usemap="#acompress__lzma_8cpp_a9baf6c8471baa28fa1671482133d59b8_icgraph" alt=""/></div>
<map name="acompress__lzma_8cpp_a9baf6c8471baa28fa1671482133d59b8_icgraph" id="acompress__lzma_8cpp_a9baf6c8471baa28fa1671482133d59b8_icgraph">
<area shape="rect" title="misc" alt="" coords="243,5,356,31"/>
<area shape="rect" href="main_8cpp.html#ae733ccfc8b1bfd23af63d56f51903f1d" title="main entry point" alt="" coords="108,5,195,31"/>
<area shape="rect" href="main_8cpp.html#a7726c3c4e37d3478021cf41b755207eb" title="real entry point" alt="" coords="5,5,60,31"/>
</map>
</div>

</div>
</div>
<a id="a3a0885ac5b6affea5d4501ee829bc0b6" name="a3a0885ac5b6affea5d4501ee829bc0b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a0885ac5b6affea5d4501ee829bc0b6">&#9670;&#160;</a></span>upx_lzma_test_overlap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int upx_lzma_test_overlap </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a>&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a>&#160;</td>
          <td class="paramname"><em>tbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>src_off</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>src_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>dst_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structupx__compress__result__t.html">upx_compress_result_t</a> *&#160;</td>
          <td class="paramname"><em>cresult</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>test_overlap - see &lt;ucl/ucl.h&gt; for semantics </p>

<p class="definition">Definition at line <a class="el" href="compress__lzma_8cpp_source.html#l00474">474</a> of file <a class="el" href="compress__lzma_8cpp_source.html">compress_lzma.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  476</span>                                                                {</div>
<div class="line"><span class="lineno">  477</span>    assert(<a class="code hl_define" href="conf_8h.html#a5ed704294f18dd341bdf589c31015734">M_IS_LZMA</a>(method));</div>
<div class="line"><span class="lineno">  478</span> </div>
<div class="line"><span class="lineno">  479</span>    <a class="code hl_class" href="classMemBuffer.html">MemBuffer</a> <a class="code hl_variable" href="xspan__fwd_8h.html#af71ddeb3e6a1edbdfadd8f044c60fa66">b</a>(src_off + src_len);</div>
<div class="line"><span class="lineno">  480</span>    <a class="code hl_function" href="xspan__fwd_8h.html#a9cf3296ee41855b4ced7b3bdfcaf8e5d">memcpy</a>(<a class="code hl_variable" href="xspan__fwd_8h.html#af71ddeb3e6a1edbdfadd8f044c60fa66">b</a> + src_off, <a class="code hl_define" href="p__unix_8cpp.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a> + src_off, src_len);</div>
<div class="line"><span class="lineno">  481</span>    <span class="keywordtype">unsigned</span> saved_dst_len = *dst_len;</div>
<div class="line"><span class="lineno">  482</span>    <span class="keywordtype">int</span> r = <a class="code hl_function" href="compress__lzma_8cpp.html#ad12afac747a98291be2b479b198ac11f">upx_lzma_decompress</a>(<a class="code hl_function" href="membuffer_8h.html#a1717baab5552eaf123e584afe8141c7a">raw_index_bytes</a>(<a class="code hl_variable" href="xspan__fwd_8h.html#af71ddeb3e6a1edbdfadd8f044c60fa66">b</a>, src_off, src_len), src_len,</div>
<div class="line"><span class="lineno">  483</span>                                <a class="code hl_function" href="membuffer_8h.html#a8bc8e23a965fc63e336d6158814f5751">raw_bytes</a>(<a class="code hl_variable" href="xspan__fwd_8h.html#af71ddeb3e6a1edbdfadd8f044c60fa66">b</a>, *dst_len), dst_len, method, cresult);</div>
<div class="line"><span class="lineno">  484</span>    <span class="keywordflow">if</span> (r != <a class="code hl_define" href="conf_8h.html#a6633961dc2e4df53ee07eacffeb154d3">UPX_E_OK</a>)</div>
<div class="line"><span class="lineno">  485</span>        <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno">  486</span>    <span class="keywordflow">if</span> (*dst_len != saved_dst_len)</div>
<div class="line"><span class="lineno">  487</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="conf_8h.html#af24c56e2e801da4fde43566bf7eaa6a1">UPX_E_ERROR</a>;</div>
<div class="line"><span class="lineno">  488</span>    <span class="comment">// NOTE: there is a very tiny possibility that decompression has</span></div>
<div class="line"><span class="lineno">  489</span>    <span class="comment">//   succeeded but the data is not restored correctly because of</span></div>
<div class="line"><span class="lineno">  490</span>    <span class="comment">//   in-place buffer overlapping, so we use an extra memcmp().</span></div>
<div class="line"><span class="lineno">  491</span>    <span class="keywordflow">if</span> (tbuf != <span class="keyword">nullptr</span> &amp;&amp; <a class="code hl_function" href="xspan__fwd_8h.html#a1a9f236758b0df388ddf70ed0e05e350">memcmp</a>(tbuf, <a class="code hl_variable" href="xspan__fwd_8h.html#af71ddeb3e6a1edbdfadd8f044c60fa66">b</a>, *dst_len) != 0)</div>
<div class="line"><span class="lineno">  492</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="conf_8h.html#af24c56e2e801da4fde43566bf7eaa6a1">UPX_E_ERROR</a>;</div>
<div class="line"><span class="lineno">  493</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="conf_8h.html#a6633961dc2e4df53ee07eacffeb154d3">UPX_E_OK</a>;</div>
<div class="line"><span class="lineno">  494</span>}</div>
<div class="ttc" id="aclassMemBuffer_html"><div class="ttname"><a href="classMemBuffer.html">MemBuffer</a></div><div class="ttdoc">MemBuffer.</div><div class="ttdef"><b>Definition:</b> <a href="membuffer_8h_source.html#l00187">membuffer.h:187</a></div></div>
<div class="ttc" id="amembuffer_8h_html_a1717baab5552eaf123e584afe8141c7a"><div class="ttname"><a href="membuffer_8h.html#a1717baab5552eaf123e584afe8141c7a">raw_index_bytes</a></div><div class="ttdeci">MemBufferBase&lt; T &gt;::pointer raw_index_bytes(const MemBufferBase&lt; T &gt; &amp;mbb, size_t index, size_t size_in_bytes)</div><div class="ttdef"><b>Definition:</b> <a href="membuffer_8h_source.html#l00154">membuffer.h:154</a></div></div>
<div class="ttc" id="amembuffer_8h_html_a8bc8e23a965fc63e336d6158814f5751"><div class="ttname"><a href="membuffer_8h.html#a8bc8e23a965fc63e336d6158814f5751">raw_bytes</a></div><div class="ttdeci">MemBufferBase&lt; T &gt;::pointer raw_bytes(const MemBufferBase&lt; T &gt; &amp;mbb, size_t size_in_bytes)</div><div class="ttdef"><b>Definition:</b> <a href="membuffer_8h_source.html#l00149">membuffer.h:149</a></div></div>
<div class="ttc" id="ap__unix_8cpp_html_aa29b866765bdc5bdf87b7eb666d66093"><div class="ttname"><a href="p__unix_8cpp.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a></div><div class="ttdeci">#define buf</div></div>
<div class="ttc" id="axspan__fwd_8h_html_a1a9f236758b0df388ddf70ed0e05e350"><div class="ttname"><a href="xspan__fwd_8h.html#a1a9f236758b0df388ddf70ed0e05e350">memcmp</a></div><div class="ttdeci">int memcmp(const C&lt; T &gt; &amp;a, const void *b, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="xspan__fwd_8h_source.html#l00073">xspan_fwd.h:73</a></div></div>
<div class="ttc" id="axspan__fwd_8h_html_a9cf3296ee41855b4ced7b3bdfcaf8e5d"><div class="ttname"><a href="xspan__fwd_8h.html#a9cf3296ee41855b4ced7b3bdfcaf8e5d">memcpy</a></div><div class="ttdeci">void * memcpy(C&lt; T &gt; a, const void *b, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="xspan__fwd_8h_source.html#l00095">xspan_fwd.h:95</a></div></div>
<div class="ttc" id="axspan__fwd_8h_html_af71ddeb3e6a1edbdfadd8f044c60fa66"><div class="ttname"><a href="xspan__fwd_8h.html#af71ddeb3e6a1edbdfadd8f044c60fa66">b</a></div><div class="ttdeci">const C&lt; U &gt; &amp; b</div><div class="ttdef"><b>Definition:</b> <a href="xspan__fwd_8h_source.html#l00080">xspan_fwd.h:80</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="xspan__fwd_8h.html#af71ddeb3e6a1edbdfadd8f044c60fa66">b</a>, <a class="el" href="p__unix_8cpp.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <a class="el" href="conf_8h.html#a5ed704294f18dd341bdf589c31015734">M_IS_LZMA</a>, <a class="el" href="xspan__fwd_8h.html#a1a9f236758b0df388ddf70ed0e05e350">memcmp()</a>, <a class="el" href="xspan__fwd_8h.html#a9cf3296ee41855b4ced7b3bdfcaf8e5d">memcpy()</a>, <a class="el" href="membuffer_8h.html#a8bc8e23a965fc63e336d6158814f5751">raw_bytes()</a>, <a class="el" href="membuffer_8h.html#a1717baab5552eaf123e584afe8141c7a">raw_index_bytes()</a>, <a class="el" href="conf_8h.html#af24c56e2e801da4fde43566bf7eaa6a1">UPX_E_ERROR</a>, <a class="el" href="conf_8h.html#a6633961dc2e4df53ee07eacffeb154d3">UPX_E_OK</a>, and <a class="el" href="compress__lzma_8cpp.html#ad12afac747a98291be2b479b198ac11f">upx_lzma_decompress()</a>.</p>

<p class="reference">Referenced by <a class="el" href="compress_8cpp.html#a4b7988cc522924c80aec0432c9d91c58">upx_test_overlap()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="compress__lzma_8cpp_a3a0885ac5b6affea5d4501ee829bc0b6_cgraph.png" border="0" usemap="#acompress__lzma_8cpp_a3a0885ac5b6affea5d4501ee829bc0b6_cgraph" alt=""/></div>
<map name="acompress__lzma_8cpp_a3a0885ac5b6affea5d4501ee829bc0b6_cgraph" id="acompress__lzma_8cpp_a3a0885ac5b6affea5d4501ee829bc0b6_cgraph">
<area shape="rect" title="test_overlap &#45; see &lt;ucl/ucl.h&gt; for semantics" alt="" coords="5,176,179,201"/>
<area shape="rect" href="xspan__fwd_8h.html#a1a9f236758b0df388ddf70ed0e05e350" title=" " alt="" coords="270,29,354,55"/>
<area shape="rect" href="xspan__fwd_8h.html#a9cf3296ee41855b4ced7b3bdfcaf8e5d" title=" " alt="" coords="273,103,351,128"/>
<area shape="rect" href="membuffer_8h.html#a8bc8e23a965fc63e336d6158814f5751" title=" " alt="" coords="267,176,357,201"/>
<area shape="rect" href="membuffer_8h.html#a1717baab5552eaf123e584afe8141c7a" title=" " alt="" coords="246,249,378,275"/>
<area shape="rect" href="compress__lzma_8cpp.html#ad12afac747a98291be2b479b198ac11f" title="decompress" alt="" coords="227,299,397,324"/>
<area shape="rect" href="classMemBufferBase.html#a251f844e7095c2d09002cf356e3ed208" title=" " alt="" coords="445,185,604,225"/>
<area shape="rect" href="except_8cpp.html#a388ab1f73d9ba5222a35cbdd67b396ff" title="compression" alt="" coords="652,201,771,227"/>
<area shape="rect" href="util_8cpp.html#aa054bbcac51cef77258c20fa0321b320" title=" " alt="" coords="480,249,569,275"/>
<area shape="rect" href="conf_8h.html#a4a6644005b7261400c85ba022c8195c0" title=" " alt="" coords="477,299,572,324"/>
<area shape="rect" href="conf_8h.html#af79eab1f480f5a57b6bfbff38256b0d2" title=" " alt="" coords="483,348,567,373"/>
<area shape="rect" href="xspan__fwd_8h.html#a4ffffab0dc6ead4a09af1dba0b85f71c" title=" " alt="" coords="673,291,749,316"/>
<area shape="rect" href="xspan__impl__common_8h.html#a60304b65bf89363bcc3165d3cde67f86" title=" " alt="" coords="687,340,735,365"/>
<area shape="rect" href="xspan__impl__common_8h.html#af7f8ff1beaa5a2bfec38929faa15a546" title=" " alt="" coords="819,340,909,365"/>
<area shape="rect" href="xspan__impl__common_8h.html#adc002fafd98360e97e7066a463592829" title=" " alt="" coords="957,340,1084,365"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="compress__lzma_8cpp_a3a0885ac5b6affea5d4501ee829bc0b6_icgraph.png" border="0" usemap="#acompress__lzma_8cpp_a3a0885ac5b6affea5d4501ee829bc0b6_icgraph" alt=""/></div>
<map name="acompress__lzma_8cpp_a3a0885ac5b6affea5d4501ee829bc0b6_icgraph" id="acompress__lzma_8cpp_a3a0885ac5b6affea5d4501ee829bc0b6_icgraph">
<area shape="rect" title="test_overlap &#45; see &lt;ucl/ucl.h&gt; for semantics" alt="" coords="1577,153,1751,179"/>
<area shape="rect" href="compress_8cpp.html#a4b7988cc522924c80aec0432c9d91c58" title=" " alt="" coords="1395,153,1529,179"/>
<area shape="rect" href="packhead_8cpp.html#a311bc88e5d305419a8cc12348b300217" title="ph overlapping decompression util" alt="" coords="1096,153,1347,179"/>
<area shape="rect" href="classPacker.html#ae0b134c6d419c733cb3283f4403a6f78" title="overlapping decompression" alt="" coords="771,153,1048,179"/>
<area shape="rect" href="classPacker.html#af11da16aeb96ac7ccd05f31472793ca7" title="Find overhead for in&#45;place decompression in a heuristic way (using a binary search)." alt="" coords="512,80,723,105"/>
<area shape="rect" href="classPackUnix.html#a2a90e16aac8e8c0e11180da8082bfd0f" title=" " alt="" coords="553,153,682,179"/>
<area shape="rect" href="classPackUnix.html#ad3f398fa4a3b34fd79f441e3069f78b1" title=" " alt="" coords="536,319,699,344"/>
<area shape="rect" href="classPacker.html#a6c29dbab3c13461ccccdf08ba3b6cde2" title=" " alt="" coords="239,5,445,31"/>
<area shape="rect" href="classPackDjgpp2.html#ac7cc5ada2feff998d116ea077d71e382" title="Find overhead for in&#45;place decompression in a heuristic way (using a binary search)." alt="" coords="220,55,464,80"/>
<area shape="rect" href="classPackTmt.html#a65eddb40b6632a8b07cdcfd566564f87" title="Find overhead for in&#45;place decompression in a heuristic way (using a binary search)." alt="" coords="230,104,454,129"/>
<area shape="rect" href="classPackUnix.html#a421acb038daef916fef027bd5e2a7427" title=" " alt="" coords="281,153,403,179"/>
<area shape="rect" href="classPackMachFat.html#adf4d151eb48d7a92d5750b8bf92fdf67" title=" " alt="" coords="16,153,161,179"/>
<area shape="rect" href="classPackLinuxElf32.html#a475c24cd3f9652ad82ea69cdf377aca5" title=" " alt="" coords="5,233,172,259"/>
<area shape="rect" href="classPackLinuxElf64.html#ae4c3d3d66cd14ea19fc44d0f90274092" title=" " alt="" coords="5,347,172,372"/>
<area shape="rect" href="classPackLinuxElf32.html#a200cba9c5eb9ae89197ba6d08df32ba5" title=" " alt="" coords="259,254,425,294"/>
<area shape="rect" href="classPackLinuxElf64.html#a72eb546964b4b777ec38c3da1972eeb8" title=" " alt="" coords="259,369,425,409"/>
<area shape="rect" href="classPackLinuxElf32.html#aaea43508f7513692cf3da5e91677c52c" title=" " alt="" coords="259,433,425,459"/>
<area shape="rect" href="classPackLinuxElf64.html#a34abb7fc5a62a52800339d603f78f562" title=" " alt="" coords="259,483,425,508"/>
</map>
</div>

</div>
</div>
<a id="a7bcf51275e629f5b1aa2aee2f6367f23" name="a7bcf51275e629f5b1aa2aee2f6367f23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bcf51275e629f5b1aa2aee2f6367f23">&#9670;&#160;</a></span>upx_lzma_version_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * upx_lzma_version_string </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compress__lzma_8cpp_source.html#l00502">502</a> of file <a class="el" href="compress__lzma_8cpp_source.html">compress_lzma.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  502</span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;4.43&quot;</span>; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="conf_8h.html#a446a0b48023e5bbd52332eef921d28b8">show_version()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="compress__lzma_8cpp_a7bcf51275e629f5b1aa2aee2f6367f23_icgraph.png" border="0" usemap="#acompress__lzma_8cpp_a7bcf51275e629f5b1aa2aee2f6367f23_icgraph" alt=""/></div>
<map name="acompress__lzma_8cpp_a7bcf51275e629f5b1aa2aee2f6367f23_icgraph" id="acompress__lzma_8cpp_a7bcf51275e629f5b1aa2aee2f6367f23_icgraph">
<area shape="rect" title=" " alt="" coords="827,155,1011,180"/>
<area shape="rect" href="help_8cpp.html#a464c512f83a9e4675a8ca0f7d0fd181f" title="version" alt="" coords="668,155,779,180"/>
<area shape="rect" href="main_8cpp.html#ac33f21554672a545e7adf35cd6e2ea66" title=" " alt="" coords="521,80,608,105"/>
<area shape="rect" href="main_8cpp.html#ae733ccfc8b1bfd23af63d56f51903f1d" title="main entry point" alt="" coords="156,104,243,129"/>
<area shape="rect" href="help_8cpp.html#a3eeb52a87b1554a104342c582752d141" title="sysinfo undocumented and subject to change" alt="" coords="509,205,620,231"/>
<area shape="rect" href="main_8cpp.html#a734877fca5251fd7d1449f9bafd1c28a" title=" " alt="" coords="329,104,431,129"/>
<area shape="rect" href="main_8cpp.html#aded53a2a166d3a6dfaa68385dc75bed5" title=" " alt="" coords="299,55,461,80"/>
<area shape="rect" href="main_8cpp.html#abca478d60205c2e55219b69ccb2559fb" title=" " alt="" coords="311,5,449,31"/>
<area shape="rect" href="main_8cpp.html#a7726c3c4e37d3478021cf41b755207eb" title="real entry point" alt="" coords="25,104,80,129"/>
<area shape="rect" href="options_8cpp.html#a3415b584b458f50575cf9fd269bcb2c6" title=" " alt="" coords="148,5,251,31"/>
<area shape="rect" href="options_8cpp.html#a7b31347d4e9e14a399fb4c1c42910e61" title=" " alt="" coords="5,5,100,31"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_bd5d5e89b3bcd50098f874ba685c96e1.html">compress</a></li><li class="navelem"><a class="el" href="compress__lzma_8cpp.html">compress_lzma.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
