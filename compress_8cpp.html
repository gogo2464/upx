<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: src/compress/compress.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('compress_8cpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">compress.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="conf_8h_source.html">../conf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compress_8h_source.html">compress.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="membuffer_8h_source.html">../util/membuffer.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for compress.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="compress_8cpp__incl.png" border="0" usemap="#asrc_2compress_2compress_8cpp" alt=""/></div>
<map name="asrc_2compress_2compress_8cpp" id="asrc_2compress_2compress_8cpp">
<area shape="rect" title=" " alt="" coords="2657,5,2860,31"/>
<area shape="rect" href="conf_8h.html" title=" " alt="" coords="2284,79,2358,104"/>
<area shape="rect" href="compress_8h.html" title=" " alt="" coords="2710,79,2807,104"/>
<area shape="rect" href="membuffer_8h.html" title=" " alt="" coords="2995,79,3138,104"/>
<area shape="rect" href="system__headers_8h.html" title=" " alt="" coords="590,152,756,177"/>
<area shape="rect" href="system__check__predefs_8h.html" title=" " alt="" coords="647,387,830,412"/>
<area shape="rect" href="system__undefs_8h.html" title=" " alt="" coords="1419,152,1578,177"/>
<area shape="rect" href="version_8h.html" title=" " alt="" coords="1602,152,1685,177"/>
<area shape="rect" href="cxxlib_8h.html" title=" " alt="" coords="1709,152,1808,177"/>
<area shape="rect" title=" " alt="" coords="1832,152,2010,177"/>
<area shape="rect" title=" " alt="" coords="2034,152,2184,177"/>
<area shape="rect" href="snprintf_8h.html" title=" " alt="" coords="2208,152,2316,177"/>
<area shape="rect" href="util_8h.html" title=" " alt="" coords="2341,152,2421,177"/>
<area shape="rect" href="options_8h.html" title=" " alt="" coords="2445,152,2528,177"/>
<area shape="rect" href="except_8h.html" title=" " alt="" coords="2552,152,2631,177"/>
<area shape="rect" href="bele_8h.html" title=" " alt="" coords="2655,152,2718,177"/>
<area shape="rect" href="console_8h.html" title=" " alt="" coords="2742,152,2881,177"/>
<area shape="rect" href="raw__bytes_8h.html" title=" " alt="" coords="2906,152,3032,177"/>
<area shape="rect" href="xspan_8h.html" title=" " alt="" coords="3057,152,3156,177"/>
<area shape="rect" href="system__defs_8h.html" title=" " alt="" coords="38,313,156,339"/>
<area shape="rect" href="system__features_8h.html" title=" " alt="" coords="26,233,168,258"/>
<area shape="rect" href="miniacc_8h.html" title=" " alt="" coords="193,233,278,258"/>
<area shape="rect" title=" " alt="" coords="303,233,374,258"/>
<area shape="rect" title=" " alt="" coords="398,233,465,258"/>
<area shape="rect" title=" " alt="" coords="490,233,576,258"/>
<area shape="rect" title=" " alt="" coords="600,233,650,258"/>
<area shape="rect" title=" " alt="" coords="674,233,766,258"/>
<area shape="rect" title=" " alt="" coords="790,233,850,258"/>
<area shape="rect" title=" " alt="" coords="874,233,960,258"/>
<area shape="rect" title=" " alt="" coords="984,233,1061,258"/>
<area shape="rect" title=" " alt="" coords="1086,225,1244,265"/>
<area shape="rect" title=" " alt="" coords="1269,233,1344,258"/>
<area shape="rect" title=" " alt="" coords="200,313,271,339"/>
<area shape="rect" href="bele__policy_8h.html" title=" " alt="" coords="2633,233,2740,258"/>
<area shape="rect" href="xspan__impl_8h.html" title=" " alt="" coords="3052,233,3161,258"/>
<area shape="rect" href="xspan__fwd_8h.html" title=" " alt="" coords="3180,152,3283,177"/>
</map>
</div>
</div>
<p><a href="compress_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac78c1624c94e1e6b82fc6d9882285671"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compress_8cpp.html#ac78c1624c94e1e6b82fc6d9882285671">upx_adler32</a> (const void *<a class="el" href="p__unix_8cpp.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, unsigned len, unsigned adler)</td></tr>
<tr class="separator:ac78c1624c94e1e6b82fc6d9882285671"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a503ce434d639fefff3eee167b8bc5b64"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compress_8cpp.html#a503ce434d639fefff3eee167b8bc5b64">upx_compress</a> (const <a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a> src, unsigned src_len, <a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a> dst, unsigned *dst_len, <a class="el" href="structupx__callback__t.html">upx_callback_t</a> *cb, int method, int level, const <a class="el" href="structupx__compress__config__t.html">upx_compress_config_t</a> *cconf, <a class="el" href="structupx__compress__result__t.html">upx_compress_result_t</a> *cresult)</td></tr>
<tr class="separator:a503ce434d639fefff3eee167b8bc5b64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52ddb3dd5259110493d2eb2202bfbb50"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compress_8cpp.html#a52ddb3dd5259110493d2eb2202bfbb50">upx_decompress</a> (const <a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a> src, unsigned src_len, <a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a> dst, unsigned *dst_len, int method, const <a class="el" href="structupx__compress__result__t.html">upx_compress_result_t</a> *cresult)</td></tr>
<tr class="separator:a52ddb3dd5259110493d2eb2202bfbb50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b7988cc522924c80aec0432c9d91c58"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compress_8cpp.html#a4b7988cc522924c80aec0432c9d91c58">upx_test_overlap</a> (const <a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a> <a class="el" href="p__unix_8cpp.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, const <a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a> tbuf, unsigned src_off, unsigned src_len, unsigned *dst_len, int method, const <a class="el" href="structupx__compress__result__t.html">upx_compress_result_t</a> *cresult)</td></tr>
<tr class="separator:a4b7988cc522924c80aec0432c9d91c58"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac78c1624c94e1e6b82fc6d9882285671" name="ac78c1624c94e1e6b82fc6d9882285671"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac78c1624c94e1e6b82fc6d9882285671">&#9670;&#160;</a></span>upx_adler32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned upx_adler32 </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>adler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compress_8cpp_source.html#l00035">35</a> of file <a class="el" href="compress_8cpp_source.html">compress.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   35</span>                                                                    {</div>
<div class="line"><span class="lineno">   36</span>    <span class="keywordflow">if</span> (len == 0)</div>
<div class="line"><span class="lineno">   37</span>        <span class="keywordflow">return</span> adler;</div>
<div class="line"><span class="lineno">   38</span>    assert(<a class="code hl_define" href="p__unix_8cpp.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a> != <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">   39</span><span class="preprocessor">#if 1</span></div>
<div class="line"><span class="lineno">   40</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="compress__ucl_8cpp.html#a676182a429fe2f2d5ae973e4b1a28716">upx_ucl_adler32</a>(<a class="code hl_define" href="p__unix_8cpp.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, len, adler);</div>
<div class="line"><span class="lineno">   41</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">   42</span>    <span class="keywordflow">return</span> upx_zlib_adler32(<a class="code hl_define" href="p__unix_8cpp.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, len, adler);</div>
<div class="line"><span class="lineno">   43</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   44</span>}</div>
<div class="ttc" id="acompress__ucl_8cpp_html_a676182a429fe2f2d5ae973e4b1a28716"><div class="ttname"><a href="compress__ucl_8cpp.html#a676182a429fe2f2d5ae973e4b1a28716">upx_ucl_adler32</a></div><div class="ttdeci">unsigned upx_ucl_adler32(const void *buf, unsigned len, unsigned adler)</div><div class="ttdef"><b>Definition:</b> <a href="compress__ucl_8cpp_source.html#l00265">compress_ucl.cpp:265</a></div></div>
<div class="ttc" id="ap__unix_8cpp_html_aa29b866765bdc5bdf87b7eb666d66093"><div class="ttname"><a href="p__unix_8cpp.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a></div><div class="ttdeci">#define buf</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="p__unix_8cpp.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, and <a class="el" href="compress__ucl_8cpp.html#a676182a429fe2f2d5ae973e4b1a28716">upx_ucl_adler32()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classPacker.html#add5cc1c8eff3bbc8aaf7ec0cf03cb82e">Packer::compress()</a>, <a class="el" href="classFilter.html#a1182c3aa65e71fd53ef9306e01317e30">Filter::filter()</a>, <a class="el" href="classPackPs1.html#a2380a408027fcec81e2597084e358ed2">PackPs1::getBkupHeader()</a>, <a class="el" href="classPacker.html#a06289b68601b59ba96d2d0bacec15aa6">Packer::initPackHeader()</a>, <a class="el" href="classPacker.html#a55f33ae9a3b893a0811404d4aa85592e">Packer::optimizeReloc()</a>, <a class="el" href="classPackUnix.html#a2a90e16aac8e8c0e11180da8082bfd0f">PackUnix::pack2()</a>, <a class="el" href="classPackUnix.html#ad3f398fa4a3b34fd79f441e3069f78b1">PackUnix::packExtent()</a>, <a class="el" href="classPackUnix.html#af20942814df6e718e04462ac03aebe08">PackUnix::patchLoaderChecksum()</a>, <a class="el" href="classPackLinuxI386.html#a65c0a882fcd06fe83af752d87c0fc035">PackLinuxI386::patchLoaderChecksum()</a>, <a class="el" href="classPackMachBase.html#a7a752052fcd62446b9e127a6ddfba7ca">PackMachBase&lt; TMachClass &gt;::patchLoaderChecksum()</a>, <a class="el" href="packhead_8cpp.html#a9bc7fbed8b0117cf25aae706dff178cb">ph_decompress()</a>, <a class="el" href="classPackPs1.html#a857d87b9897be5b39673319cbf8cf551">PackPs1::putBkupHeader()</a>, <a class="el" href="classPackPs1.html#ad056284cbfe5d768f252c9e71c5f372b">PackPs1::readBkupHeader()</a>, <a class="el" href="classFilter.html#a34aee2c034f2a84b0b8af53287066c1a">Filter::unfilter()</a>, <a class="el" href="classPacker.html#ad50f653ca4844165671764219a33eb74">Packer::unoptimizeReloc()</a>, <a class="el" href="classPackLinuxElf32.html#a09edcb8bd331405f99b25b09d37f5040">PackLinuxElf32::unpack()</a>, <a class="el" href="classPackLinuxElf64.html#a4b789474661dc2f8e40182aae29ee479">PackLinuxElf64::unpack()</a>, <a class="el" href="classPackLinuxElf32x86interp.html#a977fd6c88fdd7d1176701c170ceb031b">PackLinuxElf32x86interp::unpack()</a>, <a class="el" href="classPackMachBase.html#ac2f139e07414953fb25b83862dbd340c">PackMachBase&lt; TMachClass &gt;::unpack()</a>, <a class="el" href="classPackUnix.html#a62fec1407c3b1d45bd049df4b9f5e6f7">PackUnix::unpack()</a>, <a class="el" href="classPackUnix.html#ab16d64e1b95f1dcf5f128665b83660f6">PackUnix::unpackExtent()</a>, and <a class="el" href="dt__check_8cpp.html#a3a6b242ecd120ddf74c7aefb91486186">upx_compiler_sanity_check()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="compress_8cpp_ac78c1624c94e1e6b82fc6d9882285671_cgraph.png" border="0" usemap="#acompress_8cpp_ac78c1624c94e1e6b82fc6d9882285671_cgraph" alt=""/></div>
<map name="acompress_8cpp_ac78c1624c94e1e6b82fc6d9882285671_cgraph" id="acompress_8cpp_ac78c1624c94e1e6b82fc6d9882285671_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,108,31"/>
<area shape="rect" href="compress__ucl_8cpp.html#a676182a429fe2f2d5ae973e4b1a28716" title=" " alt="" coords="156,5,284,31"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="compress_8cpp_ac78c1624c94e1e6b82fc6d9882285671_icgraph.png" border="0" usemap="#acompress_8cpp_ac78c1624c94e1e6b82fc6d9882285671_icgraph" alt=""/></div>
<map name="acompress_8cpp_ac78c1624c94e1e6b82fc6d9882285671_icgraph" id="acompress_8cpp_ac78c1624c94e1e6b82fc6d9882285671_icgraph">
<area shape="rect" title=" " alt="" coords="1253,1092,1356,1118"/>
<area shape="rect" href="classPacker.html#add5cc1c8eff3bbc8aaf7ec0cf03cb82e" title="compress &#45; wrap call to low&#45;level upx_compress()" alt="" coords="1019,154,1153,179"/>
<area shape="rect" href="classPackUnix.html#ad3f398fa4a3b34fd79f441e3069f78b1" title=" " alt="" coords="730,179,893,204"/>
<area shape="rect" href="classFilter.html#a1182c3aa65e71fd53ef9306e01317e30" title=" " alt="" coords="1039,104,1133,130"/>
<area shape="rect" href="classPackPs1.html#a2380a408027fcec81e2597084e358ed2" title=" " alt="" coords="995,1168,1177,1194"/>
<area shape="rect" href="classPackPs1.html#ad056284cbfe5d768f252c9e71c5f372b" title=" " alt="" coords="716,1167,907,1192"/>
<area shape="rect" href="classPacker.html#a06289b68601b59ba96d2d0bacec15aa6" title="packheader util" alt="" coords="1001,1366,1171,1391"/>
<area shape="rect" href="classPacker.html#a55f33ae9a3b893a0811404d4aa85592e" title="sort and delta&#45;compress relocations with optional bswap within image returns number of bytes written ..." alt="" coords="1003,1418,1169,1443"/>
<area shape="rect" href="classPackUnix.html#a2a90e16aac8e8c0e11180da8082bfd0f" title=" " alt="" coords="1021,1267,1151,1292"/>
<area shape="rect" href="classPackUnix.html#af20942814df6e718e04462ac03aebe08" title=" " alt="" coords="967,1218,1205,1243"/>
<area shape="rect" href="classPackLinuxI386.html#a65c0a882fcd06fe83af752d87c0fc035" title=" " alt="" coords="985,1468,1187,1508"/>
<area shape="rect" href="classPackMachBase.html#a7a752052fcd62446b9e127a6ddfba7ca" title=" " alt="" coords="983,1532,1189,1572"/>
<area shape="rect" href="packhead_8cpp.html#a9bc7fbed8b0117cf25aae706dff178cb" title="ph decompress util" alt="" coords="749,458,873,483"/>
<area shape="rect" href="classPackLinuxElf32.html#a09edcb8bd331405f99b25b09d37f5040" title="Generic Unix unpack()." alt="" coords="9,256,184,282"/>
<area shape="rect" href="classPackLinuxElf64.html#a4b789474661dc2f8e40182aae29ee479" title="Generic Unix unpack()." alt="" coords="9,306,184,331"/>
<area shape="rect" href="classPackLinuxElf32x86interp.html#a977fd6c88fdd7d1176701c170ceb031b" title="Generic Unix unpack()." alt="" coords="5,356,188,396"/>
<area shape="rect" href="classPackUnix.html#a62fec1407c3b1d45bd049df4b9f5e6f7" title="Generic Unix unpack()." alt="" coords="270,914,407,939"/>
<area shape="rect" href="classPackUnix.html#ab16d64e1b95f1dcf5f128665b83660f6" title=" " alt="" coords="249,306,428,331"/>
<area shape="rect" href="classPackPs1.html#a857d87b9897be5b39673319cbf8cf551" title=" " alt="" coords="995,1596,1177,1622"/>
<area shape="rect" href="classFilter.html#a34aee2c034f2a84b0b8af53287066c1a" title=" " alt="" coords="1031,686,1141,711"/>
<area shape="rect" href="classPacker.html#ad50f653ca4844165671764219a33eb74" title="delta&#45;decompress relocations advances &#39;in&#39; allocates &#39;out&#39; and returns number of relocs written to &#39;o..." alt="" coords="995,1016,1177,1042"/>
<area shape="rect" href="classPackMachBase.html#ac2f139e07414953fb25b83862dbd340c" title="Generic Unix unpack()." alt="" coords="999,1316,1173,1342"/>
<area shape="rect" href="dt__check_8cpp.html#a3a6b242ecd120ddf74c7aefb91486186" title=" " alt="" coords="1007,1646,1165,1686"/>
<area shape="rect" href="classPacker.html#a6c29dbab3c13461ccccdf08ba3b6cde2" title=" " alt="" coords="709,130,914,155"/>
<area shape="rect" href="classPackLinuxElf32.html#a475c24cd3f9652ad82ea69cdf377aca5" title=" " alt="" coords="489,106,656,131"/>
<area shape="rect" href="classPackLinuxElf64.html#ae4c3d3d66cd14ea19fc44d0f90274092" title=" " alt="" coords="489,155,656,180"/>
<area shape="rect" href="classPackLinuxElf32.html#aaea43508f7513692cf3da5e91677c52c" title=" " alt="" coords="489,204,656,230"/>
<area shape="rect" href="classPackLinuxElf64.html#a34abb7fc5a62a52800339d603f78f562" title=" " alt="" coords="489,56,656,82"/>
<area shape="rect" href="classPackLinuxI386sh.html#ad2d96daafa916b66092adceee5f3c4c7" title=" " alt="" coords="704,80,919,106"/>
<area shape="rect" href="classPackPs1.html#a5597d0e5f795a8c0d81b637478599a99" title=" " alt="" coords="495,1167,650,1192"/>
<area shape="rect" href="classPackMachFat.html#adf4d151eb48d7a92d5750b8bf92fdf67" title=" " alt="" coords="266,1318,411,1343"/>
<area shape="rect" href="classPackMachFat.html#a774a62bb9f6712cb763ac1a3cc1e5955" title=" " alt="" coords="731,1318,892,1343"/>
<area shape="rect" href="classPackTmt.html#a9847e2567fdbb210ec015dbaf4102374" title=" " alt="" coords="753,1419,870,1444"/>
<area shape="rect" href="classPackWcle.html#a1ab5345f507887223de109f0b1139bce" title=" " alt="" coords="709,1468,914,1494"/>
<area shape="rect" href="classPeFile32.html#af442d76c5b12d3f224d3c661882a20b6" title=" " alt="" coords="722,1518,901,1543"/>
<area shape="rect" href="classPeFile64.html#a04bed4efe5fd80ea6bc7513befb169e0" title=" " alt="" coords="722,1567,901,1592"/>
<area shape="rect" href="classPackUnix.html#a421acb038daef916fef027bd5e2a7427" title=" " alt="" coords="512,1267,633,1292"/>
<area shape="rect" href="classPackUnix.html#a573f3c8c4c540f51c2a7b168535d4741" title=" " alt="" coords="747,1216,876,1242"/>
<area shape="rect" href="classPacker.html#ab53d9fc8308aa5467d38425ad3673b29" title="decompress" alt="" coords="497,559,648,584"/>
<area shape="rect" href="classPackCom.html#a59519621428829ae241f0d0609e6da8c" title=" " alt="" coords="270,610,407,635"/>
<area shape="rect" href="classPackDjgpp2.html#a48df49a5deb39fa19fd0bd00e68f3b26" title=" " alt="" coords="262,659,415,684"/>
<area shape="rect" href="classPackTmt.html#a7f8a990a65f25123fed345edfb720143" title=" " alt="" coords="272,863,405,888"/>
<area shape="rect" href="classPackVmlinuzI386.html#a34e472494934dc78b2259c1eea5540b3" title=" " alt="" coords="245,407,433,432"/>
<area shape="rect" href="classPackVmlinuzARMEL.html#a0684d8ea945cd7da49d5e47840890afd" title=" " alt="" coords="236,710,441,735"/>
<area shape="rect" href="classPeFile.html#aa8d033dfaeb206c4235410f24b083df5" title="create UPX0 section" alt="" coords="277,786,401,811"/>
<area shape="rect" href="classPackPs1.html#a542fd798443fb299c1d95ee98db5ae53" title=" " alt="" coords="754,1616,869,1642"/>
<area shape="rect" href="classPackVmlinuxBase.html#afd5cac40052771fd0b4b0d4dbbecf176" title=" " alt="" coords="715,762,908,787"/>
<area shape="rect" href="classPackWcle.html#ade3c0c0f183f9042bba43ee238b8fe88" title=" " alt="" coords="503,990,642,1015"/>
<area shape="rect" href="classFilter.html#a8976278e9e5939888876450ebd50b0b9" title=" " alt="" coords="737,559,885,584"/>
<area shape="rect" href="classPackWcle.html#abd8a5d698ae53f1e4182902b62dd751e" title=" " alt="" coords="721,1015,902,1040"/>
</map>
</div>

</div>
</div>
<a id="a503ce434d639fefff3eee167b8bc5b64" name="a503ce434d639fefff3eee167b8bc5b64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a503ce434d639fefff3eee167b8bc5b64">&#9670;&#160;</a></span>upx_compress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int upx_compress </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a>&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>src_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a>&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>dst_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structupx__callback__t.html">upx_callback_t</a> *&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structupx__compress__config__t.html">upx_compress_config_t</a> *&#160;</td>
          <td class="paramname"><em>cconf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structupx__compress__result__t.html">upx_compress_result_t</a> *&#160;</td>
          <td class="paramname"><em>cresult</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compress_8cpp_source.html#l00064">64</a> of file <a class="el" href="compress_8cpp_source.html">compress.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   66</span>                                                 {</div>
<div class="line"><span class="lineno">   67</span>    <span class="keywordtype">int</span> r = <a class="code hl_define" href="conf_8h.html#af24c56e2e801da4fde43566bf7eaa6a1">UPX_E_ERROR</a>;</div>
<div class="line"><span class="lineno">   68</span>    <a class="code hl_struct" href="structupx__compress__result__t.html">upx_compress_result_t</a> cresult_buffer;</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>    assert(method &gt; 0);</div>
<div class="line"><span class="lineno">   71</span>    assert(level &gt; 0);</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span><span class="preprocessor">#if 1</span></div>
<div class="line"><span class="lineno">   74</span>    <span class="comment">// set available bytes in dst</span></div>
<div class="line"><span class="lineno">   75</span>    <span class="keywordflow">if</span> (*dst_len == 0)</div>
<div class="line"><span class="lineno">   76</span>        *dst_len = <a class="code hl_function" href="classMemBuffer.html#a3dcd6ad1b690292fd215302825ceaf5b">MemBuffer::getSizeForCompression</a>(src_len);</div>
<div class="line"><span class="lineno">   77</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">   78</span>    <span class="comment">// force users to provide *dst_len</span></div>
<div class="line"><span class="lineno">   79</span>    assert(*dst_len != 0);</div>
<div class="line"><span class="lineno">   80</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   81</span>    <span class="comment">// for UPX, we always require a reasonably sized output buffer</span></div>
<div class="line"><span class="lineno">   82</span>    assert(*dst_len &gt;= <a class="code hl_function" href="classMemBuffer.html#a3dcd6ad1b690292fd215302825ceaf5b">MemBuffer::getSizeForCompression</a>(src_len));</div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>    <span class="keywordflow">if</span> (!cresult)</div>
<div class="line"><span class="lineno">   85</span>        cresult = &amp;cresult_buffer;</div>
<div class="line"><span class="lineno">   86</span>    cresult-&gt;<a class="code hl_function" href="structupx__compress__result__t.html#a92ddd8771e00cf86eedb13cda3e3c52c">reset</a>();</div>
<div class="line"><span class="lineno">   87</span><span class="preprocessor">#if 1</span></div>
<div class="line"><span class="lineno">   88</span>    <span class="comment">// debugging aid</span></div>
<div class="line"><span class="lineno">   89</span>    cresult-&gt;<a class="code hl_variable" href="structupx__compress__result__t.html#ae90f45220cfbc0dc560c71252cdadbc6">debug</a>.<a class="code hl_variable" href="structupx__compress__result__t_1_1Debug.html#a130b9847bd1976c7d148251b8a274631">method</a> = method;</div>
<div class="line"><span class="lineno">   90</span>    cresult-&gt;<a class="code hl_variable" href="structupx__compress__result__t.html#ae90f45220cfbc0dc560c71252cdadbc6">debug</a>.<a class="code hl_variable" href="structupx__compress__result__t_1_1Debug.html#a4b89e2e3bdfd512826ee2bae2e547dcb">level</a> = level;</div>
<div class="line"><span class="lineno">   91</span>    cresult-&gt;<a class="code hl_variable" href="structupx__compress__result__t.html#ae90f45220cfbc0dc560c71252cdadbc6">debug</a>.<a class="code hl_variable" href="structupx__compress__result__t_1_1Debug.html#aa6ebea4bedc63ad4859a20cf206ce1c6">u_len</a> = src_len;</div>
<div class="line"><span class="lineno">   92</span>    cresult-&gt;<a class="code hl_variable" href="structupx__compress__result__t.html#ae90f45220cfbc0dc560c71252cdadbc6">debug</a>.<a class="code hl_variable" href="structupx__compress__result__t_1_1Debug.html#a9d5524f6d538014fab7c40f693e6013f">c_len</a> = 0;</div>
<div class="line"><span class="lineno">   93</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> orig_dst_len = *dst_len;</div>
<div class="line"><span class="lineno">   96</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="miniacc_8h.html#acf36f1e23fcc360fe740fc272ec6d77f">__acc_cte</a>(<span class="keyword">false</span>)) {</div>
<div class="line"><span class="lineno">   97</span>    }</div>
<div class="line"><span class="lineno">   98</span><span class="preprocessor">#if (WITH_BZIP2)</span></div>
<div class="line"><span class="lineno">   99</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="conf_8h.html#a0dba195941b9ebc67569185d0850d1e5">M_IS_BZIP2</a>(method))</div>
<div class="line"><span class="lineno">  100</span>        r = upx_bzip2_compress(src, src_len, dst, dst_len, cb, method, level, cconf, cresult);</div>
<div class="line"><span class="lineno">  101</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  102</span><span class="preprocessor">#if (WITH_LZMA)</span></div>
<div class="line"><span class="lineno">  103</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="conf_8h.html#a5ed704294f18dd341bdf589c31015734">M_IS_LZMA</a>(method))</div>
<div class="line"><span class="lineno">  104</span>        r = <a class="code hl_function" href="compress__lzma_8cpp.html#a16968f66ecd1f6e7a199462fc20b5b9c">upx_lzma_compress</a>(src, src_len, dst, dst_len, cb, method, level, cconf, cresult);</div>
<div class="line"><span class="lineno">  105</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  106</span><span class="preprocessor">#if (WITH_NRV)</span></div>
<div class="line"><span class="lineno">  107</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code hl_define" href="conf_8h.html#a973bcaec3b60cbcbcbe93c3801097a33">M_IS_NRV2B</a>(method) || <a class="code hl_define" href="conf_8h.html#a6a0f86886c1ec7e3e75592b2c76b3c27">M_IS_NRV2D</a>(method) || <a class="code hl_define" href="conf_8h.html#adfb573cbbbf516d46a80260e2d8b6790">M_IS_NRV2E</a>(method)) &amp;&amp; !<a class="code hl_define" href="options_8cpp.html#a887b9edd7a68b4cde1de1f0d7ac1d6eb">opt</a>-&gt;prefer_ucl)</div>
<div class="line"><span class="lineno">  108</span>        r = upx_nrv_compress(src, src_len, dst, dst_len, cb, method, level, cconf, cresult);</div>
<div class="line"><span class="lineno">  109</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  110</span><span class="preprocessor">#if (WITH_UCL)</span></div>
<div class="line"><span class="lineno">  111</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="conf_8h.html#a973bcaec3b60cbcbcbe93c3801097a33">M_IS_NRV2B</a>(method) || <a class="code hl_define" href="conf_8h.html#a6a0f86886c1ec7e3e75592b2c76b3c27">M_IS_NRV2D</a>(method) || <a class="code hl_define" href="conf_8h.html#adfb573cbbbf516d46a80260e2d8b6790">M_IS_NRV2E</a>(method))</div>
<div class="line"><span class="lineno">  112</span>        r = <a class="code hl_function" href="compress__ucl_8cpp.html#aee4e34700d3f36ec3ae2aee005649204">upx_ucl_compress</a>(src, src_len, dst, dst_len, cb, method, level, cconf, cresult);</div>
<div class="line"><span class="lineno">  113</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  114</span><span class="preprocessor">#if (WITH_ZSTD)</span></div>
<div class="line"><span class="lineno">  115</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="conf_8h.html#a7d1fa106a491b88d15e06ec4f0ec4287">M_IS_ZSTD</a>(method))</div>
<div class="line"><span class="lineno">  116</span>        r = upx_zstd_compress(src, src_len, dst, dst_len, cb, method, level, cconf, cresult);</div>
<div class="line"><span class="lineno">  117</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  118</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  119</span>        <a class="code hl_function" href="except_8cpp.html#a57b532c382fd20e682bf0393b6d63050">throwInternalError</a>(<span class="stringliteral">&quot;unknown compression method %d&quot;</span>, method);</div>
<div class="line"><span class="lineno">  120</span>    }</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span><span class="preprocessor">#if 1</span></div>
<div class="line"><span class="lineno">  123</span>    <span class="comment">// debugging aid</span></div>
<div class="line"><span class="lineno">  124</span>    cresult-&gt;<a class="code hl_variable" href="structupx__compress__result__t.html#ae90f45220cfbc0dc560c71252cdadbc6">debug</a>.<a class="code hl_variable" href="structupx__compress__result__t_1_1Debug.html#a9d5524f6d538014fab7c40f693e6013f">c_len</a> = *dst_len;</div>
<div class="line"><span class="lineno">  125</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  126</span>    <a class="code hl_define" href="conf_8h.html#a2b4c65ac64db4f1fec7f03b6dcd0eaa8">assert_noexcept</a>(*dst_len &lt;= orig_dst_len);</div>
<div class="line"><span class="lineno">  127</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno">  128</span>}</div>
<div class="ttc" id="aclassMemBuffer_html_a3dcd6ad1b690292fd215302825ceaf5b"><div class="ttname"><a href="classMemBuffer.html#a3dcd6ad1b690292fd215302825ceaf5b">MemBuffer::getSizeForCompression</a></div><div class="ttdeci">static unsigned getSizeForCompression(unsigned uncompressed_size, unsigned extra=0) may_throw</div><div class="ttdef"><b>Definition:</b> <a href="membuffer_8cpp_source.html#l00103">membuffer.cpp:103</a></div></div>
<div class="ttc" id="acompress__lzma_8cpp_html_a16968f66ecd1f6e7a199462fc20b5b9c"><div class="ttname"><a href="compress__lzma_8cpp.html#a16968f66ecd1f6e7a199462fc20b5b9c">upx_lzma_compress</a></div><div class="ttdeci">int upx_lzma_compress(const upx_bytep src, unsigned src_len, upx_bytep dst, unsigned *dst_len, upx_callback_t *cb, int method, int level, const upx_compress_config_t *cconf_parm, upx_compress_result_t *cresult)</div><div class="ttdef"><b>Definition:</b> <a href="compress__lzma_8cpp_source.html#l00291">compress_lzma.cpp:291</a></div></div>
<div class="ttc" id="acompress__ucl_8cpp_html_aee4e34700d3f36ec3ae2aee005649204"><div class="ttname"><a href="compress__ucl_8cpp.html#aee4e34700d3f36ec3ae2aee005649204">upx_ucl_compress</a></div><div class="ttdeci">int upx_ucl_compress(const upx_bytep src, unsigned src_len, upx_bytep dst, unsigned *dst_len, upx_callback_t *cb_parm, int method, int level, const upx_compress_config_t *cconf_parm, upx_compress_result_t *cresult)</div><div class="ttdef"><b>Definition:</b> <a href="compress__ucl_8cpp_source.html#l00079">compress_ucl.cpp:79</a></div></div>
<div class="ttc" id="aconf_8h_html_a0dba195941b9ebc67569185d0850d1e5"><div class="ttname"><a href="conf_8h.html#a0dba195941b9ebc67569185d0850d1e5">M_IS_BZIP2</a></div><div class="ttdeci">#define M_IS_BZIP2(x)</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00617">conf.h:617</a></div></div>
<div class="ttc" id="aconf_8h_html_a2b4c65ac64db4f1fec7f03b6dcd0eaa8"><div class="ttname"><a href="conf_8h.html#a2b4c65ac64db4f1fec7f03b6dcd0eaa8">assert_noexcept</a></div><div class="ttdeci">#define assert_noexcept</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00478">conf.h:478</a></div></div>
<div class="ttc" id="aconf_8h_html_a5ed704294f18dd341bdf589c31015734"><div class="ttname"><a href="conf_8h.html#a5ed704294f18dd341bdf589c31015734">M_IS_LZMA</a></div><div class="ttdeci">#define M_IS_LZMA(x)</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00614">conf.h:614</a></div></div>
<div class="ttc" id="aconf_8h_html_a6a0f86886c1ec7e3e75592b2c76b3c27"><div class="ttname"><a href="conf_8h.html#a6a0f86886c1ec7e3e75592b2c76b3c27">M_IS_NRV2D</a></div><div class="ttdeci">#define M_IS_NRV2D(x)</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00611">conf.h:611</a></div></div>
<div class="ttc" id="aconf_8h_html_a7d1fa106a491b88d15e06ec4f0ec4287"><div class="ttname"><a href="conf_8h.html#a7d1fa106a491b88d15e06ec4f0ec4287">M_IS_ZSTD</a></div><div class="ttdeci">#define M_IS_ZSTD(x)</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00616">conf.h:616</a></div></div>
<div class="ttc" id="aconf_8h_html_a973bcaec3b60cbcbcbe93c3801097a33"><div class="ttname"><a href="conf_8h.html#a973bcaec3b60cbcbcbe93c3801097a33">M_IS_NRV2B</a></div><div class="ttdeci">#define M_IS_NRV2B(x)</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00610">conf.h:610</a></div></div>
<div class="ttc" id="aconf_8h_html_adfb573cbbbf516d46a80260e2d8b6790"><div class="ttname"><a href="conf_8h.html#adfb573cbbbf516d46a80260e2d8b6790">M_IS_NRV2E</a></div><div class="ttdeci">#define M_IS_NRV2E(x)</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00612">conf.h:612</a></div></div>
<div class="ttc" id="aconf_8h_html_af24c56e2e801da4fde43566bf7eaa6a1"><div class="ttname"><a href="conf_8h.html#af24c56e2e801da4fde43566bf7eaa6a1">UPX_E_ERROR</a></div><div class="ttdeci">#define UPX_E_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00514">conf.h:514</a></div></div>
<div class="ttc" id="aexcept_8cpp_html_a57b532c382fd20e682bf0393b6d63050"><div class="ttname"><a href="except_8cpp.html#a57b532c382fd20e682bf0393b6d63050">throwInternalError</a></div><div class="ttdeci">void throwInternalError(const char *msg)</div><div class="ttdoc">other</div><div class="ttdef"><b>Definition:</b> <a href="except_8cpp_source.html#l00128">except.cpp:128</a></div></div>
<div class="ttc" id="aminiacc_8h_html_acf36f1e23fcc360fe740fc272ec6d77f"><div class="ttname"><a href="miniacc_8h.html#acf36f1e23fcc360fe740fc272ec6d77f">__acc_cte</a></div><div class="ttdeci">#define __acc_cte(e)</div><div class="ttdef"><b>Definition:</b> <a href="miniacc_8h_source.html#l01558">miniacc.h:1558</a></div></div>
<div class="ttc" id="aoptions_8cpp_html_a887b9edd7a68b4cde1de1f0d7ac1d6eb"><div class="ttname"><a href="options_8cpp.html#a887b9edd7a68b4cde1de1f0d7ac1d6eb">opt</a></div><div class="ttdeci">#define opt</div></div>
<div class="ttc" id="astructupx__compress__result__t_1_1Debug_html_a130b9847bd1976c7d148251b8a274631"><div class="ttname"><a href="structupx__compress__result__t_1_1Debug.html#a130b9847bd1976c7d148251b8a274631">upx_compress_result_t::Debug::method</a></div><div class="ttdeci">int method</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00766">conf.h:766</a></div></div>
<div class="ttc" id="astructupx__compress__result__t_1_1Debug_html_a4b89e2e3bdfd512826ee2bae2e547dcb"><div class="ttname"><a href="structupx__compress__result__t_1_1Debug.html#a4b89e2e3bdfd512826ee2bae2e547dcb">upx_compress_result_t::Debug::level</a></div><div class="ttdeci">int level</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00766">conf.h:766</a></div></div>
<div class="ttc" id="astructupx__compress__result__t_1_1Debug_html_a9d5524f6d538014fab7c40f693e6013f"><div class="ttname"><a href="structupx__compress__result__t_1_1Debug.html#a9d5524f6d538014fab7c40f693e6013f">upx_compress_result_t::Debug::c_len</a></div><div class="ttdeci">unsigned c_len</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00767">conf.h:767</a></div></div>
<div class="ttc" id="astructupx__compress__result__t_1_1Debug_html_aa6ebea4bedc63ad4859a20cf206ce1c6"><div class="ttname"><a href="structupx__compress__result__t_1_1Debug.html#aa6ebea4bedc63ad4859a20cf206ce1c6">upx_compress_result_t::Debug::u_len</a></div><div class="ttdeci">unsigned u_len</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00767">conf.h:767</a></div></div>
<div class="ttc" id="astructupx__compress__result__t_html"><div class="ttname"><a href="structupx__compress__result__t.html">upx_compress_result_t</a></div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00763">conf.h:763</a></div></div>
<div class="ttc" id="astructupx__compress__result__t_html_a92ddd8771e00cf86eedb13cda3e3c52c"><div class="ttname"><a href="structupx__compress__result__t.html#a92ddd8771e00cf86eedb13cda3e3c52c">upx_compress_result_t::reset</a></div><div class="ttdeci">void reset() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00778">conf.h:778</a></div></div>
<div class="ttc" id="astructupx__compress__result__t_html_ae90f45220cfbc0dc560c71252cdadbc6"><div class="ttname"><a href="structupx__compress__result__t.html#ae90f45220cfbc0dc560c71252cdadbc6">upx_compress_result_t::debug</a></div><div class="ttdeci">Debug debug</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00770">conf.h:770</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="miniacc_8h.html#acf36f1e23fcc360fe740fc272ec6d77f">__acc_cte</a>, <a class="el" href="conf_8h.html#a2b4c65ac64db4f1fec7f03b6dcd0eaa8">assert_noexcept</a>, <a class="el" href="structupx__compress__result__t_1_1Debug.html#a9d5524f6d538014fab7c40f693e6013f">upx_compress_result_t::Debug::c_len</a>, <a class="el" href="structupx__compress__result__t.html#ae90f45220cfbc0dc560c71252cdadbc6">upx_compress_result_t::debug</a>, <a class="el" href="classMemBuffer.html#a3dcd6ad1b690292fd215302825ceaf5b">MemBuffer::getSizeForCompression()</a>, <a class="el" href="structupx__compress__result__t_1_1Debug.html#a4b89e2e3bdfd512826ee2bae2e547dcb">upx_compress_result_t::Debug::level</a>, <a class="el" href="conf_8h.html#a0dba195941b9ebc67569185d0850d1e5">M_IS_BZIP2</a>, <a class="el" href="conf_8h.html#a5ed704294f18dd341bdf589c31015734">M_IS_LZMA</a>, <a class="el" href="conf_8h.html#a973bcaec3b60cbcbcbe93c3801097a33">M_IS_NRV2B</a>, <a class="el" href="conf_8h.html#a6a0f86886c1ec7e3e75592b2c76b3c27">M_IS_NRV2D</a>, <a class="el" href="conf_8h.html#adfb573cbbbf516d46a80260e2d8b6790">M_IS_NRV2E</a>, <a class="el" href="conf_8h.html#a7d1fa106a491b88d15e06ec4f0ec4287">M_IS_ZSTD</a>, <a class="el" href="structupx__compress__result__t_1_1Debug.html#a130b9847bd1976c7d148251b8a274631">upx_compress_result_t::Debug::method</a>, <a class="el" href="options_8cpp.html#a887b9edd7a68b4cde1de1f0d7ac1d6eb">opt</a>, <a class="el" href="structupx__compress__result__t.html#a92ddd8771e00cf86eedb13cda3e3c52c">upx_compress_result_t::reset()</a>, <a class="el" href="except_8cpp.html#a57b532c382fd20e682bf0393b6d63050">throwInternalError()</a>, <a class="el" href="structupx__compress__result__t_1_1Debug.html#aa6ebea4bedc63ad4859a20cf206ce1c6">upx_compress_result_t::Debug::u_len</a>, <a class="el" href="conf_8h.html#af24c56e2e801da4fde43566bf7eaa6a1">UPX_E_ERROR</a>, <a class="el" href="compress__lzma_8cpp.html#a16968f66ecd1f6e7a199462fc20b5b9c">upx_lzma_compress()</a>, and <a class="el" href="compress__ucl_8cpp.html#aee4e34700d3f36ec3ae2aee005649204">upx_ucl_compress()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classPackLinuxElf32.html#a2de3b0ba7a17f5de7f5a62f5df6a0bb3">PackLinuxElf32::buildLinuxLoader()</a>, <a class="el" href="classPackLinuxElf64.html#acf98749f15000ddd7c39f330ec145341">PackLinuxElf64::buildLinuxLoader()</a>, <a class="el" href="classPackExe.html#a5537bbb621abd219b4de222eb25e4f15">PackExe::buildLoader()</a>, <a class="el" href="classPackPs1.html#a6e98ea6d20b1d546d0541e1f3dce818a">PackPs1::buildLoader()</a>, <a class="el" href="classPackMachBase.html#a300e8e2dca80a3d6cc69e39a477b4726">PackMachBase&lt; TMachClass &gt;::buildMachLoader()</a>, <a class="el" href="classPacker.html#add5cc1c8eff3bbc8aaf7ec0cf03cb82e">Packer::compress()</a>, <a class="el" href="classPacker.html#a6c29dbab3c13461ccccdf08ba3b6cde2">Packer::compressWithFilters()</a>, <a class="el" href="classPackVmlinuxBase.html#a3ab914eaf3facd8f2b5e61079dce6362">PackVmlinuxBase&lt; TElfClass &gt;::pack()</a>, <a class="el" href="classPackUnix.html#ad3f398fa4a3b34fd79f441e3069f78b1">PackUnix::packExtent()</a>, and <a class="el" href="classPackPs1.html#a857d87b9897be5b39673319cbf8cf551">PackPs1::putBkupHeader()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="compress_8cpp_a503ce434d639fefff3eee167b8bc5b64_cgraph.png" border="0" usemap="#acompress_8cpp_a503ce434d639fefff3eee167b8bc5b64_cgraph" alt=""/></div>
<map name="acompress_8cpp_a503ce434d639fefff3eee167b8bc5b64_cgraph" id="acompress_8cpp_a503ce434d639fefff3eee167b8bc5b64_cgraph">
<area shape="rect" title=" " alt="" coords="5,568,121,593"/>
<area shape="rect" href="classMemBuffer.html#a3dcd6ad1b690292fd215302825ceaf5b" title=" " alt="" coords="169,57,424,83"/>
<area shape="rect" href="structupx__compress__result__t.html#a92ddd8771e00cf86eedb13cda3e3c52c" title=" " alt="" coords="217,561,377,601"/>
<area shape="rect" href="except_8cpp.html#a57b532c382fd20e682bf0393b6d63050" title="other" alt="" coords="494,785,634,811"/>
<area shape="rect" href="compress__lzma_8cpp.html#a16968f66ecd1f6e7a199462fc20b5b9c" title=" " alt="" coords="219,287,374,312"/>
<area shape="rect" href="compress__ucl_8cpp.html#aee4e34700d3f36ec3ae2aee005649204" title=" " alt="" coords="225,861,368,887"/>
<area shape="rect" href="util_8cpp.html#aa054bbcac51cef77258c20fa0321b320" title=" " alt="" coords="519,81,609,107"/>
<area shape="rect" href="except_8cpp.html#a388ab1f73d9ba5222a35cbdd67b396ff" title="compression" alt="" coords="739,5,858,31"/>
<area shape="rect" href="namespaceupx.html#a45583c0cc56452ba56d9a16895c7f0d7" title=" " alt="" coords="519,32,609,57"/>
<area shape="rect" href="structbzip2__compress__result__t.html#a42b924611b69c0e4f052be3e5cb078fe" title=" " alt="" coords="479,721,649,761"/>
<area shape="rect" href="structlzma__compress__result__t.html#a462964e44129ade1d8e19da542d6bdbe" title=" " alt="" coords="480,401,648,441"/>
<area shape="rect" href="structucl__compress__result__t.html#a3d99a2d3ff3c3d435467538853de0831" title=" " alt="" coords="487,465,641,505"/>
<area shape="rect" href="structzlib__compress__result__t.html#a0e13fc1fcd24656de5e55012158ff33b" title=" " alt="" coords="485,529,643,569"/>
<area shape="rect" href="structzstd__compress__result__t.html#a0d5ecf85dba03760b515c6502fa73943" title=" " alt="" coords="483,593,645,633"/>
<area shape="rect" href="structupx__compress__result__t_1_1Debug.html#a45c5919de8fd03dad1a059f2f001a2d4" title=" " alt="" coords="484,657,644,697"/>
<area shape="rect" href="conf_8h.html#a4a6644005b7261400c85ba022c8195c0" title=" " alt="" coords="751,568,846,593"/>
<area shape="rect" href="xspan__fwd_8h.html#a4ffffab0dc6ead4a09af1dba0b85f71c" title=" " alt="" coords="941,596,1017,621"/>
<area shape="rect" href="xspan__impl__common_8h.html#a60304b65bf89363bcc3165d3cde67f86" title=" " alt="" coords="955,181,1003,207"/>
<area shape="rect" href="xspan__impl__common_8h.html#af7f8ff1beaa5a2bfec38929faa15a546" title=" " alt="" coords="1065,181,1156,207"/>
<area shape="rect" href="xspan__impl__common_8h.html#adc002fafd98360e97e7066a463592829" title=" " alt="" coords="1204,181,1331,207"/>
<area shape="rect" href="structMyLzma_1_1OutStream.html#af8b6165a39d4340349c5550f410fa89d" title=" " alt="" coords="472,181,656,207"/>
<area shape="rect" href="structMyLzma_1_1InStream.html#a7c6ed1b9b75290ea255ef978b3a9edb4" title=" " alt="" coords="477,131,651,156"/>
<area shape="rect" href="conf_8h.html#af79eab1f480f5a57b6bfbff38256b0d2" title=" " alt="" coords="757,232,841,257"/>
<area shape="rect" href="compress__lzma_8cpp.html#afb61bae04ad14e880bc46e7e292a46b1" title="compress defaults" alt="" coords="506,287,622,312"/>
<area shape="rect" href="structMyLzma_1_1OutStream.html#abb339d269412fd411542bb473ce796e8" title=" " alt="" coords="483,337,645,377"/>
<area shape="rect" href="xspan__impl__common_8h.html#aa01d1905341de7c0c8127de31a24cb3a" title=" " alt="" coords="773,131,824,156"/>
<area shape="rect" href="structupx_1_1OptVar.html#a281511b3f5d732c4fca2e3e28fa6ea45" title=" " alt="" coords="704,282,893,322"/>
<area shape="rect" href="namespaceupx.html#a223ed38dcb8092b15a7d0b0fedfa1c3b" title=" " alt="" coords="747,347,851,372"/>
<area shape="rect" href="compress__ucl_8cpp.html#a512614b295b08513e6342d9949a892ac" title=" " alt="" coords="476,936,652,961"/>
<area shape="rect" href="xspan__fwd_8h.html#a9cf3296ee41855b4ced7b3bdfcaf8e5d" title=" " alt="" coords="525,1009,603,1035"/>
<area shape="rect" href="structucl__compress__config__t.html#ad32c59705d5466b34ac934b6986a8975" title=" " alt="" coords="720,739,877,779"/>
<area shape="rect" href="compress__ucl_8cpp.html#aa552590971165cd5ebb1256ce3d1b90a" title=" " alt="" coords="489,887,639,912"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="compress_8cpp_a503ce434d639fefff3eee167b8bc5b64_icgraph.png" border="0" usemap="#acompress_8cpp_a503ce434d639fefff3eee167b8bc5b64_icgraph" alt=""/></div>
<map name="acompress_8cpp_a503ce434d639fefff3eee167b8bc5b64_icgraph" id="acompress_8cpp_a503ce434d639fefff3eee167b8bc5b64_icgraph">
<area shape="rect" title=" " alt="" coords="775,823,891,848"/>
<area shape="rect" href="classPackLinuxElf32.html#a2de3b0ba7a17f5de7f5a62f5df6a0bb3" title=" " alt="" coords="510,279,705,319"/>
<area shape="rect" href="classPackLinuxElf64.html#acf98749f15000ddd7c39f330ec145341" title=" " alt="" coords="510,631,705,671"/>
<area shape="rect" href="classPackExe.html#a5537bbb621abd219b4de222eb25e4f15" title=" " alt="" coords="528,696,687,721"/>
<area shape="rect" href="classPackPs1.html#a6e98ea6d20b1d546d0541e1f3dce818a" title=" " alt="" coords="528,948,687,973"/>
<area shape="rect" href="classPackMachBase.html#a300e8e2dca80a3d6cc69e39a477b4726" title=" " alt="" coords="488,797,727,823"/>
<area shape="rect" href="classPacker.html#add5cc1c8eff3bbc8aaf7ec0cf03cb82e" title="compress &#45; wrap call to low&#45;level upx_compress()" alt="" coords="540,847,675,872"/>
<area shape="rect" href="classPacker.html#a6c29dbab3c13461ccccdf08ba3b6cde2" title=" " alt="" coords="227,836,433,861"/>
<area shape="rect" href="classPackUnix.html#ad3f398fa4a3b34fd79f441e3069f78b1" title=" " alt="" coords="249,897,411,923"/>
<area shape="rect" href="classPackVmlinuxBase.html#a3ab914eaf3facd8f2b5e61079dce6362" title=" " alt="" coords="519,997,696,1023"/>
<area shape="rect" href="classPackPs1.html#a857d87b9897be5b39673319cbf8cf551" title=" " alt="" coords="516,1047,699,1072"/>
<area shape="rect" href="classPackLinuxElf32ppc.html#a837a4d1bf96e44b0ecd11e7150c5565b" title=" " alt="" coords="255,439,405,479"/>
<area shape="rect" href="classPackLinuxElf32x86.html#a69d1831a5732ba82bc6a21e187003b81" title=" " alt="" coords="254,503,406,543"/>
<area shape="rect" href="classPackBSDElf32x86.html#a28fe533055d17e4e4570bc890dd802b4" title=" " alt="" coords="220,5,440,31"/>
<area shape="rect" href="classPackLinuxElf32armLe.html#abf40ab0b8e777d22c12eebf77a8dde2a" title=" " alt="" coords="249,55,411,95"/>
<area shape="rect" href="classPackLinuxElf32armBe.html#a4eaf1a02af96f64941c82e06aff51237" title=" " alt="" coords="249,119,411,159"/>
<area shape="rect" href="classPackLinuxElf32mipseb.html#af1b1d619d6cf7810897aa82c57a7638d" title=" " alt="" coords="246,183,414,223"/>
<area shape="rect" href="classPackLinuxElf32mipsel.html#abb9c15cc5a974ec3554d78bfc7999b09" title=" " alt="" coords="248,247,412,287"/>
<area shape="rect" href="classPackNetBSDElf32x86.html#a52476626884e67e577a2e37a8a934634" title=" " alt="" coords="251,311,409,351"/>
<area shape="rect" href="classPackOpenBSDElf32x86.html#a814d4f91e539a066454d1d2f360d5b79" title=" " alt="" coords="245,375,415,415"/>
<area shape="rect" href="classPackLinuxElf64amd.html#a4e925c41e1f85114a34b4fec6a0bfc18" title=" " alt="" coords="251,567,409,607"/>
<area shape="rect" href="classPackLinuxElf64arm.html#a433b6323d27480148574ea89b6ee3634" title=" " alt="" coords="253,631,407,671"/>
<area shape="rect" href="classPackLinuxElf64ppcle.html#adeb403f68ec4aeb636a5ecf2ce9039f1" title=" " alt="" coords="253,695,407,735"/>
<area shape="rect" href="classPackLinuxElf64ppc.html#ad2998d239264bc145084afbd56fec5b7" title=" " alt="" coords="255,759,405,799"/>
<area shape="rect" href="classPackPs1.html#a542fd798443fb299c1d95ee98db5ae53" title=" " alt="" coords="273,997,387,1023"/>
<area shape="rect" href="classPackLinuxElf32.html#a475c24cd3f9652ad82ea69cdf377aca5" title=" " alt="" coords="5,823,172,848"/>
<area shape="rect" href="classPackLinuxElf64.html#ae4c3d3d66cd14ea19fc44d0f90274092" title=" " alt="" coords="5,872,172,897"/>
<area shape="rect" href="classPackLinuxElf32.html#aaea43508f7513692cf3da5e91677c52c" title=" " alt="" coords="5,921,172,947"/>
<area shape="rect" href="classPackLinuxElf64.html#a34abb7fc5a62a52800339d603f78f562" title=" " alt="" coords="5,971,172,996"/>
</map>
</div>

</div>
</div>
<a id="a52ddb3dd5259110493d2eb2202bfbb50" name="a52ddb3dd5259110493d2eb2202bfbb50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52ddb3dd5259110493d2eb2202bfbb50">&#9670;&#160;</a></span>upx_decompress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int upx_decompress </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a>&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>src_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a>&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>dst_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structupx__compress__result__t.html">upx_compress_result_t</a> *&#160;</td>
          <td class="paramname"><em>cresult</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compress_8cpp_source.html#l00134">134</a> of file <a class="el" href="compress_8cpp_source.html">compress.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  135</span>                                                                     {</div>
<div class="line"><span class="lineno">  136</span>    <span class="keywordtype">int</span> r = <a class="code hl_define" href="conf_8h.html#af24c56e2e801da4fde43566bf7eaa6a1">UPX_E_ERROR</a>;</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>    assert(*dst_len &gt; 0);</div>
<div class="line"><span class="lineno">  139</span>    assert(src_len &lt; *dst_len); <span class="comment">// must be compressed</span></div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>    <span class="keywordflow">if</span> (cresult &amp;&amp; cresult-&gt;<a class="code hl_variable" href="structupx__compress__result__t.html#ae90f45220cfbc0dc560c71252cdadbc6">debug</a>.<a class="code hl_variable" href="structupx__compress__result__t_1_1Debug.html#a130b9847bd1976c7d148251b8a274631">method</a> == 0)</div>
<div class="line"><span class="lineno">  142</span>        cresult = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> orig_dst_len = *dst_len;</div>
<div class="line"><span class="lineno">  145</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="miniacc_8h.html#acf36f1e23fcc360fe740fc272ec6d77f">__acc_cte</a>(<span class="keyword">false</span>)) {</div>
<div class="line"><span class="lineno">  146</span>    }</div>
<div class="line"><span class="lineno">  147</span><span class="preprocessor">#if (WITH_BZIP2)</span></div>
<div class="line"><span class="lineno">  148</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="conf_8h.html#a0dba195941b9ebc67569185d0850d1e5">M_IS_BZIP2</a>(method))</div>
<div class="line"><span class="lineno">  149</span>        r = upx_bzip2_decompress(src, src_len, dst, dst_len, method, cresult);</div>
<div class="line"><span class="lineno">  150</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  151</span><span class="preprocessor">#if (WITH_LZMA)</span></div>
<div class="line"><span class="lineno">  152</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="conf_8h.html#a5ed704294f18dd341bdf589c31015734">M_IS_LZMA</a>(method))</div>
<div class="line"><span class="lineno">  153</span>        r = <a class="code hl_function" href="compress__lzma_8cpp.html#ad12afac747a98291be2b479b198ac11f">upx_lzma_decompress</a>(src, src_len, dst, dst_len, method, cresult);</div>
<div class="line"><span class="lineno">  154</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  155</span><span class="preprocessor">#if (WITH_NRV)</span></div>
<div class="line"><span class="lineno">  156</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code hl_define" href="conf_8h.html#a973bcaec3b60cbcbcbe93c3801097a33">M_IS_NRV2B</a>(method) || <a class="code hl_define" href="conf_8h.html#a6a0f86886c1ec7e3e75592b2c76b3c27">M_IS_NRV2D</a>(method) || <a class="code hl_define" href="conf_8h.html#adfb573cbbbf516d46a80260e2d8b6790">M_IS_NRV2E</a>(method)) &amp;&amp; !<a class="code hl_define" href="options_8cpp.html#a887b9edd7a68b4cde1de1f0d7ac1d6eb">opt</a>-&gt;prefer_ucl)</div>
<div class="line"><span class="lineno">  157</span>        r = upx_nrv_decompress(src, src_len, dst, dst_len, method, cresult);</div>
<div class="line"><span class="lineno">  158</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  159</span><span class="preprocessor">#if (WITH_UCL)</span></div>
<div class="line"><span class="lineno">  160</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="conf_8h.html#a973bcaec3b60cbcbcbe93c3801097a33">M_IS_NRV2B</a>(method) || <a class="code hl_define" href="conf_8h.html#a6a0f86886c1ec7e3e75592b2c76b3c27">M_IS_NRV2D</a>(method) || <a class="code hl_define" href="conf_8h.html#adfb573cbbbf516d46a80260e2d8b6790">M_IS_NRV2E</a>(method))</div>
<div class="line"><span class="lineno">  161</span>        r = <a class="code hl_function" href="compress__ucl_8cpp.html#a2c73039193c4740b1bce2c15ae15750d">upx_ucl_decompress</a>(src, src_len, dst, dst_len, method, cresult);</div>
<div class="line"><span class="lineno">  162</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  163</span><span class="preprocessor">#if (WITH_ZLIB)</span></div>
<div class="line"><span class="lineno">  164</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="conf_8h.html#afcd82c989a174d244b403667404f0903">M_IS_DEFLATE</a>(method))</div>
<div class="line"><span class="lineno">  165</span>        r = <a class="code hl_function" href="compress__zlib_8cpp.html#ad28cd8ca996bc7b85e24e4a61be5c3f7">upx_zlib_decompress</a>(src, src_len, dst, dst_len, method, cresult);</div>
<div class="line"><span class="lineno">  166</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  167</span><span class="preprocessor">#if (WITH_ZSTD)</span></div>
<div class="line"><span class="lineno">  168</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="conf_8h.html#a7d1fa106a491b88d15e06ec4f0ec4287">M_IS_ZSTD</a>(method))</div>
<div class="line"><span class="lineno">  169</span>        r = upx_zstd_decompress(src, src_len, dst, dst_len, method, cresult);</div>
<div class="line"><span class="lineno">  170</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  171</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  172</span>        <a class="code hl_function" href="except_8cpp.html#a57b532c382fd20e682bf0393b6d63050">throwInternalError</a>(<span class="stringliteral">&quot;unknown compression method %d&quot;</span>, method);</div>
<div class="line"><span class="lineno">  173</span>    }</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>    <a class="code hl_define" href="conf_8h.html#a2b4c65ac64db4f1fec7f03b6dcd0eaa8">assert_noexcept</a>(*dst_len &lt;= orig_dst_len);</div>
<div class="line"><span class="lineno">  176</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno">  177</span>}</div>
<div class="ttc" id="acompress__lzma_8cpp_html_ad12afac747a98291be2b479b198ac11f"><div class="ttname"><a href="compress__lzma_8cpp.html#ad12afac747a98291be2b479b198ac11f">upx_lzma_decompress</a></div><div class="ttdeci">int upx_lzma_decompress(const upx_bytep src, unsigned src_len, upx_bytep dst, unsigned *dst_len, int method, const upx_compress_result_t *cresult)</div><div class="ttdoc">decompress</div><div class="ttdef"><b>Definition:</b> <a href="compress__lzma_8cpp_source.html#l00402">compress_lzma.cpp:402</a></div></div>
<div class="ttc" id="acompress__ucl_8cpp_html_a2c73039193c4740b1bce2c15ae15750d"><div class="ttname"><a href="compress__ucl_8cpp.html#a2c73039193c4740b1bce2c15ae15750d">upx_ucl_decompress</a></div><div class="ttdeci">int upx_ucl_decompress(const upx_bytep src, unsigned src_len, upx_bytep dst, unsigned *dst_len, int method, const upx_compress_result_t *cresult)</div><div class="ttdef"><b>Definition:</b> <a href="compress__ucl_8cpp_source.html#l00153">compress_ucl.cpp:153</a></div></div>
<div class="ttc" id="acompress__zlib_8cpp_html_ad28cd8ca996bc7b85e24e4a61be5c3f7"><div class="ttname"><a href="compress__zlib_8cpp.html#ad28cd8ca996bc7b85e24e4a61be5c3f7">upx_zlib_decompress</a></div><div class="ttdeci">int upx_zlib_decompress(const upx_bytep src, unsigned src_len, upx_bytep dst, unsigned *dst_len, int method, const upx_compress_result_t *cresult)</div><div class="ttdef"><b>Definition:</b> <a href="compress__zlib_8cpp_source.html#l00146">compress_zlib.cpp:146</a></div></div>
<div class="ttc" id="aconf_8h_html_afcd82c989a174d244b403667404f0903"><div class="ttname"><a href="conf_8h.html#afcd82c989a174d244b403667404f0903">M_IS_DEFLATE</a></div><div class="ttdeci">#define M_IS_DEFLATE(x)</div><div class="ttdef"><b>Definition:</b> <a href="conf_8h_source.html#l00615">conf.h:615</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="miniacc_8h.html#acf36f1e23fcc360fe740fc272ec6d77f">__acc_cte</a>, <a class="el" href="conf_8h.html#a2b4c65ac64db4f1fec7f03b6dcd0eaa8">assert_noexcept</a>, <a class="el" href="structupx__compress__result__t.html#ae90f45220cfbc0dc560c71252cdadbc6">upx_compress_result_t::debug</a>, <a class="el" href="conf_8h.html#a0dba195941b9ebc67569185d0850d1e5">M_IS_BZIP2</a>, <a class="el" href="conf_8h.html#afcd82c989a174d244b403667404f0903">M_IS_DEFLATE</a>, <a class="el" href="conf_8h.html#a5ed704294f18dd341bdf589c31015734">M_IS_LZMA</a>, <a class="el" href="conf_8h.html#a973bcaec3b60cbcbcbe93c3801097a33">M_IS_NRV2B</a>, <a class="el" href="conf_8h.html#a6a0f86886c1ec7e3e75592b2c76b3c27">M_IS_NRV2D</a>, <a class="el" href="conf_8h.html#adfb573cbbbf516d46a80260e2d8b6790">M_IS_NRV2E</a>, <a class="el" href="conf_8h.html#a7d1fa106a491b88d15e06ec4f0ec4287">M_IS_ZSTD</a>, <a class="el" href="structupx__compress__result__t_1_1Debug.html#a130b9847bd1976c7d148251b8a274631">upx_compress_result_t::Debug::method</a>, <a class="el" href="options_8cpp.html#a887b9edd7a68b4cde1de1f0d7ac1d6eb">opt</a>, <a class="el" href="except_8cpp.html#a57b532c382fd20e682bf0393b6d63050">throwInternalError()</a>, <a class="el" href="conf_8h.html#af24c56e2e801da4fde43566bf7eaa6a1">UPX_E_ERROR</a>, <a class="el" href="compress__lzma_8cpp.html#ad12afac747a98291be2b479b198ac11f">upx_lzma_decompress()</a>, <a class="el" href="compress__ucl_8cpp.html#a2c73039193c4740b1bce2c15ae15750d">upx_ucl_decompress()</a>, and <a class="el" href="compress__zlib_8cpp.html#ad28cd8ca996bc7b85e24e4a61be5c3f7">upx_zlib_decompress()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classPacker.html#add5cc1c8eff3bbc8aaf7ec0cf03cb82e">Packer::compress()</a>, <a class="el" href="classPackPs1.html#a2380a408027fcec81e2597084e358ed2">PackPs1::getBkupHeader()</a>, <a class="el" href="classElfLinker.html#a350296174b0dfc7db17018b7705a2be0">ElfLinker::init()</a>, and <a class="el" href="packhead_8cpp.html#a9bc7fbed8b0117cf25aae706dff178cb">ph_decompress()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="compress_8cpp_a52ddb3dd5259110493d2eb2202bfbb50_cgraph.png" border="0" usemap="#acompress_8cpp_a52ddb3dd5259110493d2eb2202bfbb50_cgraph" alt=""/></div>
<map name="acompress_8cpp_a52ddb3dd5259110493d2eb2202bfbb50_cgraph" id="acompress_8cpp_a52ddb3dd5259110493d2eb2202bfbb50_cgraph">
<area shape="rect" title=" " alt="" coords="5,177,137,203"/>
<area shape="rect" href="except_8cpp.html#a57b532c382fd20e682bf0393b6d63050" title="other" alt="" coords="424,153,564,179"/>
<area shape="rect" href="compress__lzma_8cpp.html#ad12afac747a98291be2b479b198ac11f" title="decompress" alt="" coords="185,101,356,127"/>
<area shape="rect" href="compress__ucl_8cpp.html#a2c73039193c4740b1bce2c15ae15750d" title=" " alt="" coords="191,203,350,228"/>
<area shape="rect" href="compress__zlib_8cpp.html#ad28cd8ca996bc7b85e24e4a61be5c3f7" title=" " alt="" coords="189,252,352,277"/>
<area shape="rect" href="conf_8h.html#a4a6644005b7261400c85ba022c8195c0" title=" " alt="" coords="447,53,541,79"/>
<area shape="rect" href="conf_8h.html#af79eab1f480f5a57b6bfbff38256b0d2" title=" " alt="" coords="452,103,536,128"/>
<area shape="rect" href="xspan__fwd_8h.html#a4ffffab0dc6ead4a09af1dba0b85f71c" title=" " alt="" coords="632,29,708,55"/>
<area shape="rect" href="xspan__impl__common_8h.html#a60304b65bf89363bcc3165d3cde67f86" title=" " alt="" coords="646,79,694,104"/>
<area shape="rect" href="xspan__impl__common_8h.html#af7f8ff1beaa5a2bfec38929faa15a546" title=" " alt="" coords="756,79,847,104"/>
<area shape="rect" href="xspan__impl__common_8h.html#adc002fafd98360e97e7066a463592829" title=" " alt="" coords="895,79,1021,104"/>
<area shape="rect" href="compress__ucl_8cpp.html#a512614b295b08513e6342d9949a892ac" title=" " alt="" coords="406,203,582,228"/>
<area shape="rect" href="compress__zlib_8cpp.html#a34be4f377aef8f1237fb235386d07f79" title=" " alt="" coords="404,252,584,277"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="compress_8cpp_a52ddb3dd5259110493d2eb2202bfbb50_icgraph.png" border="0" usemap="#acompress_8cpp_a52ddb3dd5259110493d2eb2202bfbb50_icgraph" alt=""/></div>
<map name="acompress_8cpp_a52ddb3dd5259110493d2eb2202bfbb50_icgraph" id="acompress_8cpp_a52ddb3dd5259110493d2eb2202bfbb50_icgraph">
<area shape="rect" title=" " alt="" coords="1396,879,1528,904"/>
<area shape="rect" href="classPacker.html#add5cc1c8eff3bbc8aaf7ec0cf03cb82e" title="compress &#45; wrap call to low&#45;level upx_compress()" alt="" coords="1189,173,1324,199"/>
<area shape="rect" href="classPackPs1.html#a2380a408027fcec81e2597084e358ed2" title=" " alt="" coords="1165,903,1348,928"/>
<area shape="rect" href="classElfLinker.html#a350296174b0dfc7db17018b7705a2be0" title=" " alt="" coords="1203,952,1310,977"/>
<area shape="rect" href="packhead_8cpp.html#a9bc7fbed8b0117cf25aae706dff178cb" title="ph decompress util" alt="" coords="1195,853,1319,879"/>
<area shape="rect" href="classPacker.html#a6c29dbab3c13461ccccdf08ba3b6cde2" title=" " alt="" coords="912,123,1117,148"/>
<area shape="rect" href="classPackUnix.html#ad3f398fa4a3b34fd79f441e3069f78b1" title=" " alt="" coords="435,79,597,104"/>
<area shape="rect" href="classPackLinuxElf32.html#a475c24cd3f9652ad82ea69cdf377aca5" title=" " alt="" coords="203,153,369,179"/>
<area shape="rect" href="classPackLinuxElf64.html#ae4c3d3d66cd14ea19fc44d0f90274092" title=" " alt="" coords="203,5,369,31"/>
<area shape="rect" href="classPackLinuxElf32.html#aaea43508f7513692cf3da5e91677c52c" title=" " alt="" coords="203,55,369,80"/>
<area shape="rect" href="classPackLinuxElf64.html#a34abb7fc5a62a52800339d603f78f562" title=" " alt="" coords="203,104,369,129"/>
<area shape="rect" href="classPackPs1.html#ad056284cbfe5d768f252c9e71c5f372b" title=" " alt="" coords="919,1103,1110,1128"/>
<area shape="rect" href="classPackPs1.html#a5597d0e5f795a8c0d81b637478599a99" title=" " alt="" coords="684,1277,839,1303"/>
<area shape="rect" href="classPacker.html#ab53d9fc8308aa5467d38425ad3673b29" title="decompress" alt="" coords="939,853,1090,879"/>
<area shape="rect" href="classPackWcle.html#a415ee4ae631c2086c9ccb112cd80d0a5" title=" " alt="" coords="671,629,851,655"/>
<area shape="rect" href="classPackCom.html#a59519621428829ae241f0d0609e6da8c" title=" " alt="" coords="693,679,830,704"/>
<area shape="rect" href="classPackDjgpp2.html#a48df49a5deb39fa19fd0bd00e68f3b26" title=" " alt="" coords="685,728,838,753"/>
<area shape="rect" href="classPackExe.html#a08a7901ec2ea27c6c446f4ff02b24be4" title=" " alt="" coords="696,777,827,803"/>
<area shape="rect" href="classPackLinuxElf32.html#a09edcb8bd331405f99b25b09d37f5040" title="Generic Unix unpack()." alt="" coords="199,821,373,847"/>
<area shape="rect" href="classPackLinuxElf64.html#a4b789474661dc2f8e40182aae29ee479" title="Generic Unix unpack()." alt="" coords="199,993,373,1019"/>
<area shape="rect" href="classPackLinuxElf32x86interp.html#a977fd6c88fdd7d1176701c170ceb031b" title="Generic Unix unpack()." alt="" coords="425,1050,607,1090"/>
<area shape="rect" href="classPackPs1.html#ac40da8aff7f53a0f3374de8682bcc079" title=" " alt="" coords="696,1031,827,1056"/>
<area shape="rect" href="classPackTmt.html#a7f8a990a65f25123fed345edfb720143" title=" " alt="" coords="695,1080,828,1105"/>
<area shape="rect" href="classPackTos.html#a3fb61f6f3b1963184356bace25ff9653" title=" " alt="" coords="697,1129,825,1155"/>
<area shape="rect" href="classPackUnix.html#a62fec1407c3b1d45bd049df4b9f5e6f7" title="Generic Unix unpack()." alt="" coords="693,1179,830,1204"/>
<area shape="rect" href="classPackVmlinuzI386.html#a34e472494934dc78b2259c1eea5540b3" title=" " alt="" coords="667,1228,855,1253"/>
<area shape="rect" href="classPackVmlinuzARMEL.html#a0684d8ea945cd7da49d5e47840890afd" title=" " alt="" coords="659,343,864,368"/>
<area shape="rect" href="classPeFile.html#aa8d033dfaeb206c4235410f24b083df5" title="create UPX0 section" alt="" coords="699,392,823,417"/>
<area shape="rect" href="classPackUnix.html#ab16d64e1b95f1dcf5f128665b83660f6" title=" " alt="" coords="672,879,851,904"/>
<area shape="rect" href="classPacker.html#a98836d189865b8496d759334c6257608" title=" " alt="" coords="667,442,855,482"/>
<area shape="rect" href="classPackWcle.html#ade3c0c0f183f9042bba43ee238b8fe88" title=" " alt="" coords="447,720,585,745"/>
<area shape="rect" href="classPackLinuxElf32.html#a6a054376b40ab2dc536ce43302d2c989" title=" " alt="" coords="444,871,588,911"/>
<area shape="rect" href="classPackLinuxElf64.html#ad2c315a3286632db9c874ca7a65bb69d" title=" " alt="" coords="444,986,588,1026"/>
<area shape="rect" href="classPackCom.html#adc7a9a6defe3c0b8cbbc7b59308c0386" title=" " alt="" coords="455,572,577,597"/>
<area shape="rect" href="classPackDjgpp2.html#a6661b704a15b800a620d9a243287da7d" title=" " alt="" coords="447,621,585,647"/>
<area shape="rect" href="classPackExe.html#a70d7991b106a12849023eea434a57550" title=" " alt="" coords="459,671,573,696"/>
<area shape="rect" href="classPackPs1.html#a542fd798443fb299c1d95ee98db5ae53" title=" " alt="" coords="459,128,573,153"/>
<area shape="rect" href="classPackTmt.html#a9847e2567fdbb210ec015dbaf4102374" title=" " alt="" coords="457,177,575,203"/>
<area shape="rect" href="classPackTos.html#af18b9115b58fa31b79ff565047a5a31f" title=" " alt="" coords="460,227,572,252"/>
<area shape="rect" href="classPackVmlinuzI386.html#a4b88c19ade54ecf025a63781af758006" title=" " alt="" coords="430,276,602,301"/>
<area shape="rect" href="classPackBvmlinuzI386.html#ad8a8694021c49c9e7372c6dbf8b3cef1" title=" " alt="" coords="426,325,606,351"/>
<area shape="rect" href="classPackVmlinuzARMEL.html#aab822afc164843cd6f22686fdca9dd1a" title=" " alt="" coords="421,375,611,400"/>
<area shape="rect" href="classPackWcle.html#ae1a86eced9af3a3422bd9ebeacac907d" title=" " alt="" coords="455,424,577,449"/>
<area shape="rect" href="classPeFile.html#ad9fc5f9eff8c16e397552c1a0681b632" title="create UPX0 section" alt="" coords="462,473,570,499"/>
<area shape="rect" href="classPackUnix.html#a2a90e16aac8e8c0e11180da8082bfd0f" title=" " alt="" coords="451,523,581,548"/>
<area shape="rect" href="classPackUnix.html#a421acb038daef916fef027bd5e2a7427" title=" " alt="" coords="225,523,347,548"/>
<area shape="rect" href="classPackMachFat.html#adf4d151eb48d7a92d5750b8bf92fdf67" title=" " alt="" coords="5,523,151,548"/>
</map>
</div>

</div>
</div>
<a id="a4b7988cc522924c80aec0432c9d91c58" name="a4b7988cc522924c80aec0432c9d91c58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b7988cc522924c80aec0432c9d91c58">&#9670;&#160;</a></span>upx_test_overlap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int upx_test_overlap </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a>&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="conf_8h.html#aad23eea2fb7e0018fde02543d122c02d">upx_bytep</a>&#160;</td>
          <td class="paramname"><em>tbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>src_off</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>src_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>dst_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structupx__compress__result__t.html">upx_compress_result_t</a> *&#160;</td>
          <td class="paramname"><em>cresult</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compress_8cpp_source.html#l00183">183</a> of file <a class="el" href="compress_8cpp_source.html">compress.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  184</span>                                                                                          {</div>
<div class="line"><span class="lineno">  185</span>    <span class="keywordtype">int</span> r = <a class="code hl_define" href="conf_8h.html#af24c56e2e801da4fde43566bf7eaa6a1">UPX_E_ERROR</a>;</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>    <span class="keywordflow">if</span> (cresult &amp;&amp; cresult-&gt;<a class="code hl_variable" href="structupx__compress__result__t.html#ae90f45220cfbc0dc560c71252cdadbc6">debug</a>.<a class="code hl_variable" href="structupx__compress__result__t_1_1Debug.html#a130b9847bd1976c7d148251b8a274631">method</a> == 0)</div>
<div class="line"><span class="lineno">  188</span>        cresult = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span>    assert(*dst_len &gt; 0);</div>
<div class="line"><span class="lineno">  191</span>    assert(src_len &lt; *dst_len); <span class="comment">// must be compressed</span></div>
<div class="line"><span class="lineno">  192</span>    <span class="keywordtype">unsigned</span> overlap_overhead = src_off + src_len - *dst_len;</div>
<div class="line"><span class="lineno">  193</span>    assert((<span class="keywordtype">int</span>) overlap_overhead &gt; 0);</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> orig_dst_len = *dst_len;</div>
<div class="line"><span class="lineno">  196</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="miniacc_8h.html#acf36f1e23fcc360fe740fc272ec6d77f">__acc_cte</a>(<span class="keyword">false</span>)) {</div>
<div class="line"><span class="lineno">  197</span>    }</div>
<div class="line"><span class="lineno">  198</span><span class="preprocessor">#if (WITH_BZIP2)</span></div>
<div class="line"><span class="lineno">  199</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="conf_8h.html#a0dba195941b9ebc67569185d0850d1e5">M_IS_BZIP2</a>(method))</div>
<div class="line"><span class="lineno">  200</span>        r = upx_bzip2_test_overlap(<a class="code hl_define" href="p__unix_8cpp.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, tbuf, src_off, src_len, dst_len, method, cresult);</div>
<div class="line"><span class="lineno">  201</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  202</span><span class="preprocessor">#if (WITH_LZMA)</span></div>
<div class="line"><span class="lineno">  203</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="conf_8h.html#a5ed704294f18dd341bdf589c31015734">M_IS_LZMA</a>(method))</div>
<div class="line"><span class="lineno">  204</span>        r = <a class="code hl_function" href="compress__lzma_8cpp.html#a3a0885ac5b6affea5d4501ee829bc0b6">upx_lzma_test_overlap</a>(<a class="code hl_define" href="p__unix_8cpp.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, tbuf, src_off, src_len, dst_len, method, cresult);</div>
<div class="line"><span class="lineno">  205</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  206</span><span class="preprocessor">#if (WITH_NRV)</span></div>
<div class="line"><span class="lineno">  207</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code hl_define" href="conf_8h.html#a973bcaec3b60cbcbcbe93c3801097a33">M_IS_NRV2B</a>(method) || <a class="code hl_define" href="conf_8h.html#a6a0f86886c1ec7e3e75592b2c76b3c27">M_IS_NRV2D</a>(method) || <a class="code hl_define" href="conf_8h.html#adfb573cbbbf516d46a80260e2d8b6790">M_IS_NRV2E</a>(method)) &amp;&amp; !<a class="code hl_define" href="options_8cpp.html#a887b9edd7a68b4cde1de1f0d7ac1d6eb">opt</a>-&gt;prefer_ucl)</div>
<div class="line"><span class="lineno">  208</span>        r = upx_nrv_test_overlap(<a class="code hl_define" href="p__unix_8cpp.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, tbuf, src_off, src_len, dst_len, method, cresult);</div>
<div class="line"><span class="lineno">  209</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  210</span><span class="preprocessor">#if (WITH_UCL)</span></div>
<div class="line"><span class="lineno">  211</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="conf_8h.html#a973bcaec3b60cbcbcbe93c3801097a33">M_IS_NRV2B</a>(method) || <a class="code hl_define" href="conf_8h.html#a6a0f86886c1ec7e3e75592b2c76b3c27">M_IS_NRV2D</a>(method) || <a class="code hl_define" href="conf_8h.html#adfb573cbbbf516d46a80260e2d8b6790">M_IS_NRV2E</a>(method))</div>
<div class="line"><span class="lineno">  212</span>        r = <a class="code hl_function" href="compress__ucl_8cpp.html#a5f82d8361a087f9b0bb3cc0ffb6e9c33">upx_ucl_test_overlap</a>(<a class="code hl_define" href="p__unix_8cpp.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, tbuf, src_off, src_len, dst_len, method, cresult);</div>
<div class="line"><span class="lineno">  213</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  214</span><span class="preprocessor">#if (WITH_ZSTD)</span></div>
<div class="line"><span class="lineno">  215</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="conf_8h.html#a7d1fa106a491b88d15e06ec4f0ec4287">M_IS_ZSTD</a>(method))</div>
<div class="line"><span class="lineno">  216</span>        r = upx_zstd_test_overlap(<a class="code hl_define" href="p__unix_8cpp.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, tbuf, src_off, src_len, dst_len, method, cresult);</div>
<div class="line"><span class="lineno">  217</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  218</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  219</span>        <a class="code hl_function" href="except_8cpp.html#a57b532c382fd20e682bf0393b6d63050">throwInternalError</a>(<span class="stringliteral">&quot;unknown compression method %d&quot;</span>, method);</div>
<div class="line"><span class="lineno">  220</span>    }</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>    <a class="code hl_define" href="conf_8h.html#a2b4c65ac64db4f1fec7f03b6dcd0eaa8">assert_noexcept</a>(*dst_len &lt;= orig_dst_len);</div>
<div class="line"><span class="lineno">  223</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno">  224</span>}</div>
<div class="ttc" id="acompress__lzma_8cpp_html_a3a0885ac5b6affea5d4501ee829bc0b6"><div class="ttname"><a href="compress__lzma_8cpp.html#a3a0885ac5b6affea5d4501ee829bc0b6">upx_lzma_test_overlap</a></div><div class="ttdeci">int upx_lzma_test_overlap(const upx_bytep buf, const upx_bytep tbuf, unsigned src_off, unsigned src_len, unsigned *dst_len, int method, const upx_compress_result_t *cresult)</div><div class="ttdoc">test_overlap - see &lt;ucl/ucl.h&gt; for semantics</div><div class="ttdef"><b>Definition:</b> <a href="compress__lzma_8cpp_source.html#l00474">compress_lzma.cpp:474</a></div></div>
<div class="ttc" id="acompress__ucl_8cpp_html_a5f82d8361a087f9b0bb3cc0ffb6e9c33"><div class="ttname"><a href="compress__ucl_8cpp.html#a5f82d8361a087f9b0bb3cc0ffb6e9c33">upx_ucl_test_overlap</a></div><div class="ttdeci">int upx_ucl_test_overlap(const upx_bytep buf, const upx_bytep tbuf, unsigned src_off, unsigned src_len, unsigned *dst_len, int method, const upx_compress_result_t *cresult)</div><div class="ttdef"><b>Definition:</b> <a href="compress__ucl_8cpp_source.html#l00198">compress_ucl.cpp:198</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="miniacc_8h.html#acf36f1e23fcc360fe740fc272ec6d77f">__acc_cte</a>, <a class="el" href="conf_8h.html#a2b4c65ac64db4f1fec7f03b6dcd0eaa8">assert_noexcept</a>, <a class="el" href="p__unix_8cpp.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <a class="el" href="structupx__compress__result__t.html#ae90f45220cfbc0dc560c71252cdadbc6">upx_compress_result_t::debug</a>, <a class="el" href="conf_8h.html#a0dba195941b9ebc67569185d0850d1e5">M_IS_BZIP2</a>, <a class="el" href="conf_8h.html#a5ed704294f18dd341bdf589c31015734">M_IS_LZMA</a>, <a class="el" href="conf_8h.html#a973bcaec3b60cbcbcbe93c3801097a33">M_IS_NRV2B</a>, <a class="el" href="conf_8h.html#a6a0f86886c1ec7e3e75592b2c76b3c27">M_IS_NRV2D</a>, <a class="el" href="conf_8h.html#adfb573cbbbf516d46a80260e2d8b6790">M_IS_NRV2E</a>, <a class="el" href="conf_8h.html#a7d1fa106a491b88d15e06ec4f0ec4287">M_IS_ZSTD</a>, <a class="el" href="structupx__compress__result__t_1_1Debug.html#a130b9847bd1976c7d148251b8a274631">upx_compress_result_t::Debug::method</a>, <a class="el" href="options_8cpp.html#a887b9edd7a68b4cde1de1f0d7ac1d6eb">opt</a>, <a class="el" href="except_8cpp.html#a57b532c382fd20e682bf0393b6d63050">throwInternalError()</a>, <a class="el" href="conf_8h.html#af24c56e2e801da4fde43566bf7eaa6a1">UPX_E_ERROR</a>, <a class="el" href="compress__lzma_8cpp.html#a3a0885ac5b6affea5d4501ee829bc0b6">upx_lzma_test_overlap()</a>, and <a class="el" href="compress__ucl_8cpp.html#a5f82d8361a087f9b0bb3cc0ffb6e9c33">upx_ucl_test_overlap()</a>.</p>

<p class="reference">Referenced by <a class="el" href="packhead_8cpp.html#a311bc88e5d305419a8cc12348b300217">ph_testOverlappingDecompression()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="compress_8cpp_a4b7988cc522924c80aec0432c9d91c58_cgraph.png" border="0" usemap="#acompress_8cpp_a4b7988cc522924c80aec0432c9d91c58_cgraph" alt=""/></div>
<map name="acompress_8cpp_a4b7988cc522924c80aec0432c9d91c58_cgraph" id="acompress_8cpp_a4b7988cc522924c80aec0432c9d91c58_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,140,81"/>
<area shape="rect" href="except_8cpp.html#a57b532c382fd20e682bf0393b6d63050" title="other" alt="" coords="427,5,567,31"/>
<area shape="rect" href="compress__lzma_8cpp.html#a3a0885ac5b6affea5d4501ee829bc0b6" title="test_overlap &#45; see &lt;ucl/ucl.h&gt; for semantics" alt="" coords="188,237,361,263"/>
<area shape="rect" href="compress__ucl_8cpp.html#a5f82d8361a087f9b0bb3cc0ffb6e9c33" title=" " alt="" coords="195,56,355,81"/>
<area shape="rect" href="xspan__fwd_8h.html#a1a9f236758b0df388ddf70ed0e05e350" title=" " alt="" coords="455,128,539,153"/>
<area shape="rect" href="xspan__fwd_8h.html#a9cf3296ee41855b4ced7b3bdfcaf8e5d" title=" " alt="" coords="458,201,537,227"/>
<area shape="rect" href="membuffer_8h.html#a8bc8e23a965fc63e336d6158814f5751" title=" " alt="" coords="453,275,542,300"/>
<area shape="rect" href="membuffer_8h.html#a1717baab5552eaf123e584afe8141c7a" title=" " alt="" coords="431,348,563,373"/>
<area shape="rect" href="compress__lzma_8cpp.html#ad12afac747a98291be2b479b198ac11f" title="decompress" alt="" coords="412,397,583,423"/>
<area shape="rect" href="classMemBufferBase.html#a251f844e7095c2d09002cf356e3ed208" title=" " alt="" coords="633,283,792,323"/>
<area shape="rect" href="except_8cpp.html#a388ab1f73d9ba5222a35cbdd67b396ff" title="compression" alt="" coords="840,300,959,325"/>
<area shape="rect" href="util_8cpp.html#aa054bbcac51cef77258c20fa0321b320" title=" " alt="" coords="668,348,757,373"/>
<area shape="rect" href="conf_8h.html#a4a6644005b7261400c85ba022c8195c0" title=" " alt="" coords="665,397,760,423"/>
<area shape="rect" href="conf_8h.html#af79eab1f480f5a57b6bfbff38256b0d2" title=" " alt="" coords="671,447,755,472"/>
<area shape="rect" href="xspan__fwd_8h.html#a4ffffab0dc6ead4a09af1dba0b85f71c" title=" " alt="" coords="861,389,937,415"/>
<area shape="rect" href="xspan__impl__common_8h.html#a60304b65bf89363bcc3165d3cde67f86" title=" " alt="" coords="875,439,923,464"/>
<area shape="rect" href="xspan__impl__common_8h.html#af7f8ff1beaa5a2bfec38929faa15a546" title=" " alt="" coords="1007,439,1097,464"/>
<area shape="rect" href="xspan__impl__common_8h.html#adc002fafd98360e97e7066a463592829" title=" " alt="" coords="1145,439,1272,464"/>
<area shape="rect" href="compress__ucl_8cpp.html#a512614b295b08513e6342d9949a892ac" title=" " alt="" coords="409,55,585,80"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="compress_8cpp_a4b7988cc522924c80aec0432c9d91c58_icgraph.png" border="0" usemap="#acompress_8cpp_a4b7988cc522924c80aec0432c9d91c58_icgraph" alt=""/></div>
<map name="acompress_8cpp_a4b7988cc522924c80aec0432c9d91c58_icgraph" id="acompress_8cpp_a4b7988cc522924c80aec0432c9d91c58_icgraph">
<area shape="rect" title=" " alt="" coords="1373,153,1508,179"/>
<area shape="rect" href="packhead_8cpp.html#a311bc88e5d305419a8cc12348b300217" title="ph overlapping decompression util" alt="" coords="1075,153,1325,179"/>
<area shape="rect" href="classPacker.html#ae0b134c6d419c733cb3283f4403a6f78" title="overlapping decompression" alt="" coords="749,153,1027,179"/>
<area shape="rect" href="classPacker.html#af11da16aeb96ac7ccd05f31472793ca7" title="Find overhead for in&#45;place decompression in a heuristic way (using a binary search)." alt="" coords="491,80,701,105"/>
<area shape="rect" href="classPackUnix.html#a2a90e16aac8e8c0e11180da8082bfd0f" title=" " alt="" coords="531,153,661,179"/>
<area shape="rect" href="classPackUnix.html#ad3f398fa4a3b34fd79f441e3069f78b1" title=" " alt="" coords="515,252,677,277"/>
<area shape="rect" href="classPacker.html#a6c29dbab3c13461ccccdf08ba3b6cde2" title=" " alt="" coords="218,5,423,31"/>
<area shape="rect" href="classPackDjgpp2.html#ac7cc5ada2feff998d116ea077d71e382" title="Find overhead for in&#45;place decompression in a heuristic way (using a binary search)." alt="" coords="199,55,443,80"/>
<area shape="rect" href="classPackTmt.html#a65eddb40b6632a8b07cdcfd566564f87" title="Find overhead for in&#45;place decompression in a heuristic way (using a binary search)." alt="" coords="209,104,433,129"/>
<area shape="rect" href="classPackUnix.html#a421acb038daef916fef027bd5e2a7427" title=" " alt="" coords="260,153,381,179"/>
<area shape="rect" href="classPackMachFat.html#adf4d151eb48d7a92d5750b8bf92fdf67" title=" " alt="" coords="5,153,151,179"/>
<area shape="rect" href="classPackLinuxElf32.html#a475c24cd3f9652ad82ea69cdf377aca5" title=" " alt="" coords="237,203,404,228"/>
<area shape="rect" href="classPackLinuxElf64.html#ae4c3d3d66cd14ea19fc44d0f90274092" title=" " alt="" coords="237,252,404,277"/>
<area shape="rect" href="classPackLinuxElf32.html#aaea43508f7513692cf3da5e91677c52c" title=" " alt="" coords="237,301,404,327"/>
<area shape="rect" href="classPackLinuxElf64.html#a34abb7fc5a62a52800339d603f78f562" title=" " alt="" coords="237,351,404,376"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_bd5d5e89b3bcd50098f874ba685c96e1.html">compress</a></li><li class="navelem"><a class="el" href="compress_8cpp.html">compress.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
